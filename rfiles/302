<?xml version="1.0" encoding="UTF-8"?><rdf:RDF
	xmlns="http://purl.org/rss/1.0/"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:admin="http://webns.net/mvcb/"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" >
<channel rdf:about="https://johngoodwin225.wordpress.com">
	<title>John&#8217;s Weblog</title>
	<link>https://johngoodwin225.wordpress.com</link>
	<description>Just another WordPress.com weblog</description>
	<dc:date>2017-04-02T16:45:58Z</dc:date>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<sy:updateBase>2000-01-01T12:00+00:00</sy:updateBase>
	<admin:generatorAgent rdf:resource="http://wordpress.com/" />
	<items>
		<rdf:Seq>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2016/09/24/using-recurrent-neural-networks-to-hallucinate-new-model-army-lyrics/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2015/10/11/on-beyond-owl-challenges-for-ontologies-on-the-web-by-james-hendler/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/07/13/benfords-law-and-the-administrative-geography-of-great-britain/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/03/23/tell-me-about-hamsphire-linking-government-data-using-sparql-federation-2/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2014/03/22/federating-sparql-queries-across-government-linked-data/"/>
					<rdf:li rdf:resource="https://johngoodwin225.wordpress.com/2013/09/24/ordnance-survey-linked-data-the-search-api/"/>
				</rdf:Seq>
	</items>
</channel>
<item rdf:about="https://johngoodwin225.wordpress.com/2016/09/24/using-recurrent-neural-networks-to-hallucinate-new-model-army-lyrics/">
	<title>Using Recurrent Neural Networks to Hallucinate New Model Army Lyrics</title>
	<link>https://johngoodwin225.wordpress.com/2016/09/24/using-recurrent-neural-networks-to-hallucinate-new-model-army-lyrics/</link>
	<dc:date>2016-09-24T15:36:48Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[Uncategorized]]></dc:subject>
		<dc:subject><![CDATA[new model army]]></dc:subject>
		<dc:subject><![CDATA[Recurrent Neural Networks]]></dc:subject>
		<dc:subject><![CDATA[rnn]]></dc:subject>
	<description><![CDATA[I decided to follow the example of Andrei Karpathy to see if I could use recurrent neural networks to hallucinate New Model Army lyrics. I decided to train a 3-layer RNN with 512 hidden nodes on each layer. Full technical details are here. If you want to compare the output with the original lyrics you [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=481&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p>I decided to follow the example of <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/">Andrei Karpathy</a> to see if I could use recurrent neural networks to hallucinate <a href="http://newmodelarmy.org/">New Model Army</a> <a href="http://newmodelarmy.org/index.php/the-music/lyrics">lyrics</a>. I decided to train a 3-layer RNN with 512 hidden nodes on each layer. Full technical details are <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/">here</a>. If you want to compare the output with the original lyrics you can by reading them <a href="http://newmodelarmy.org/index.php/the-music/lyrics">here</a>. Here is the output, not bad considering the relatively small size of the input (if you&#8217;re not a fan you&#8217;ll have to take my word for it):</p>
<blockquote><p>the thick black days below where the desert with their backs the mountains in the blood red sun the sky i can hear us in the darkness they got their victorious and the black sky and the secrets come back to the sky the sky i see you and i can hear us all breathing i can hear us all breathing i can hear us all breathing i wanted to see him face and the lovers and the backstreets and the country breaks the shadows of the foghorn on the last breath there is still sprays on the ridge and the hands are on the breaking skies the boys are heading good for the father and the lights go out the sea and i was so let them on the earth and the days of the end we all feel the lights are blazing all the screen when i was watching the fires and the birds of brave still we are the falling sky i was a believe in the darkness trying to the statue calling of the father and a cars the power in the sky i have seen the streets head into the shadows of the burning sand and the way the falling of the storm in the wind of the streets of the winding wheel to the back the pressure moves the will we started away into the wall with the city where we are gonna fight with a blood of passion and you will be found of your face is still across the sky the trees i am drinking i am asking what is we wanted before the stars there is a bown star of the winding shots and the heart and the sun stars and the stands protects the lights and the days are lands and i am happy to be forever but they have got to be innocents the world is bow to the wind blows where the sky we are still not worried now i will hold on to the world and i am sorry and we are gonna fight we will be hope that is comes and we were walking out in the road the rain and the hands are far the same thing one one by one of the cold there is a fire so much to the sky i have seen them so much to tell us what is is the way that is i see a little corner of the sky and the steel walls they think that is you can hear us all breathing i am  looking for you i think i was make us surprised i am not worried now i am not worried now i want no second who wants to see the corner of the far away from everything i have ever wanted when i am screaming i am screaming i am looking i am never going back there i am never going back to the seething sun the way that is change the road i do not know what is the coming skies and drums they live by the back i started at the bar and the grey i will be some place that is i can hear us all breathing i can hear us all breathing i can hear us all breathing i can hear us all breathing i can hear us all breathing i swear that is i have never been and the far horizon it could be stormclouds and it was we are still here the hours in the flag and the hands are frozen the stars below the doors we were out of sun on the corner and the things that is i do not really want it i can hear us all breathing i can hear us the passion is not  where i am warming i am sick of the conversations we are gonna die the way they should not believe it still you have been so well you want to be here the sound of the war we have done we are drifting and here in the world in the sun i was not a more than they can look up and i will be some own while the clocks and the great car is all come to see a man fould on the world we were born in the blood dream i can hear us all breathing i am swilling in the end we stand on the top of the water the shadows of the sun and the cheap coats of the cooling towers and the wind blows through the side of the call train we are gonna fight we watch the world while they wait for the crowds and the chemical walls that is we are not war and our hearts they fall the long gods take their children and the lost the steps from the path of the shadows of the sun on the road and all the shadows come crashing in and staring and freedom and the grey and the grass when we go out there is a passion past the blood sun and the falling of the gill of the fire and the back in the wind blows through the backstreets of the desert that is we are still behind us and i am part of us the things that is you were not of the discotheque and the faces call in the sky in the blazing sun and the sun from the sky i have  still the strung place that is you want to look down to the sea on the chest of the millions of the cold cold the dance glow their dead and the sun we are gonna fight we were found on the dead we are we are not a great laugh and laughing down the sky i swear that is we are gonna fight we are still the pains that is i have seen to think that is we have done with their faces are the same the passion in the sea and the right of the miles of the faces that is we have to be in the bar and the fead and the waiting lights the storm when we were strange to see a man fall or to see him fly the city the spell blew the cold charge there is words are like with the world and the rooms are still spark in the empty streets there are gone before we will be hard and gone when we said that is we can hear us all breathing i am looking for you i am  alone and the more and the earth start and the end it takes all of them will come the same our little shoulder sun and still the black and the lights go out the way they are gone feel the scars and the money i am sorry and the fire and the world is never good faces they are gone before and the noise with the hollows and the rain and the hard of the cardy blows when the hands are the same in something i am one of the blood where the sky i have something to come i am finding i am die and cheat of the days of the sun in the courtry of the water close my hunger the killing day and the grey and the streets are out and the breathing of the end the world is gone but the race is can go out here and i can feel the stars put out of the sky i am drifting out in our little time and the streets are lighting the desert their many counting down the streets are in our reason conversations to the faces come back there is a car and there is a purity that is we can feel my hands and i will meet you in just to spend the bridge and the black and the sea and the rain and the back and still we are born in the power in the frozen claim and i will be standing there i will come the stars there is a siren passion street with more than i can hear myself from the great braves shot and the spoilt generation and i am  back and while you will still the same thing that is i see them in a part of us but you are still here for the shadows of the water the wind blows through the trees and the shadows of the water the heart of the flags are the devil in the country the streets and the television promises staring out of the crowd it was just the world while they are so lost i am sorry there i have been so much to talk to the beautiful car and the truth is a frightened days to the push of the sky in the space of the ash is a curse the boys are dancing the stags are black dark and the open driving sun in the sky i saw the way that is i do not really want to have to call the desert in the country from the lights beneath the clouds of the construction of the foot scare and the fire and the angry gods we would be here and we will see them in the party is    so much to the way i was driving fast and the world and the bad our breathing sky the statues beneath the clouds of silence and the corner of the glamour breaking the same as the scands the blood and the grey south and the scream of the discotheque of the flashing days that is i cannot see what is i have seen more tonight i am sick of the power i am  not and nothing was worthy and i know i will be a sen for a city the world has the same and i will tell you what is i have been and the silence she says and i will see them we were born in the chemical trucks close the darkness and the great roads and the city the sun and the streets are billion stars and the seasons change and there is a children who think they should not do that is what is i am not warming the crackles of pain and we blood and still here all the drops at the world in the sky in the battle of the morning the shadows come the sea and the falling of the water wheels the truth is river on the world is die in the shadow of the streets of her hands are lands and the promises stars beneath the black the crackle and the mountains and the lights below the streets are laid the same and the hard storm are all the seasons the way that is you love me in the world i want the bottle of the passion in the empty power is the power and the sea and the hands are falling stars behind the road and the seasons change and there is a burnt of my heart behind the truth is the same on the streets are living and the back the fire but i can feel it all of us to go confasy the camera while they will  be home but you will embrace it and i am still that is you are not a power i was not the promises i saw the way that is i am never going back there i will be mountains and there is nothing   to do you can watch your eyes and i will never be stormclouds and the time but there is no warning all the things that is i can hear myself breathing i see the smoke and the lights are sard and the changes and the rain and the seasons change only the seasons change only the wind blows through the silence stars and the way the boys go when it is all vanity i feel like the time is standing here for the ones that is we are better than them with the sky in the moon and the sea and the man from the days are gone before the new world it is not  a west for the consuming flags and the gravesing streets and the call and the shoulders and the long land closer to the sky i am lost the fashion and the back and the sea as the prayer and the stains they are still the bridges are cracking on the sea and the bridges are not a black the world we will meet the changes we are still still here and we are gonna die i want</p></blockquote><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/481/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/481/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=481&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2015/10/11/on-beyond-owl-challenges-for-ontologies-on-the-web-by-james-hendler/">
	<title>On Beyond OWL: challenges for ontologies on the Web by James Hendler</title>
	<link>https://johngoodwin225.wordpress.com/2015/10/11/on-beyond-owl-challenges-for-ontologies-on-the-web-by-james-hendler/</link>
	<dc:date>2015-10-11T09:08:15Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Semantic Web]]></dc:subject>
		<dc:subject><![CDATA[Ontologies]]></dc:subject>
		<dc:subject><![CDATA[Ontology]]></dc:subject>
		<dc:subject><![CDATA[OWL]]></dc:subject>
	<description><![CDATA[<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=479&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<iframe src='https://www.slideshare.net/slideshow/embed_code/53751568' width='595' height='488' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/479/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/479/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=479&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/07/13/benfords-law-and-the-administrative-geography-of-great-britain/">
	<title>Benford’s Law and the Administrative Geography of Great Britain</title>
	<link>https://johngoodwin225.wordpress.com/2014/07/13/benfords-law-and-the-administrative-geography-of-great-britain/</link>
	<dc:date>2014-07-13T18:10:49Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[Uncategorized]]></dc:subject>
		<dc:subject><![CDATA[benford's law]]></dc:subject>
		<dc:subject><![CDATA[maths]]></dc:subject>
		<dc:subject><![CDATA[Ordnance Survey]]></dc:subject>
		<dc:subject><![CDATA[statistics]]></dc:subject>
	<description><![CDATA[Just listened to the latest episode of the Infinite Monkey Cage, and was reminded of Benford’s Law. This states: Benford’s Law, also called the First-Digit Law, refers to the frequency distribution of digits in many (but not all) real-life sources of data. In this distribution, the number 1 occurs as the leading digit about 30% [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=459&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p>Just listened to the latest episode of the <a href="http://www.bbc.co.uk/programmes/b048jmy9">Infinite Monkey Cage</a>, and was reminded of <a href="http://en.wikipedia.org/wiki/Benford%27s_law">Benford’s Law</a>. This states:</p>
<blockquote>
<p><code> Benford’s Law, also called the First-Digit Law, refers to the frequency distribution of digits in many (but not all) real-life sources of data. In this distribution, the number 1 occurs as the leading digit about 30% of the time, while larger numbers occur in that position less frequently: 9 as the first digit less than 5% of the time. Benford’s Law also concerns the expected distribution for digits beyond the first, which approach a uniform distribution.</code></p>
</blockquote>
<p>I was curious if that might emerge in geography (or Ordnance Survey data) somehow. Turns out if we look at the areas (in metres squared) of the polygons in the <a href="http://www.ordnancesurvey.co.uk/business-and-government/products/boundary-line.html">Boundary Line Product</a> (i.e. the areas of all the counties, wards, consistuencies, districts, parishes etc. in GB) then we get a pretty good fit. In the table below the first column is the leading digit of the polygon area, the second is the percentage of areas starting with that leading digit and the third column is the value Benford’s Law predicts:</p>
<p>1:  30.6   30.1<br /> 2:  15.9   17.6<br /> 3:  11.3   12.5<br /> 4:  9.8     9.7<br /> 5:  8        7.9<br /> 6:  7.3     6.7<br /> 7:  6.3     5.8<br /> 8:  5.6     5.1<br /> 9:  4.9    4.6</p>
<p>Not bad&#8230;</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/459/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/459/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=459&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/">
	<title>Quick Play with Cayley Graph DB and Ordnance Survey Linked Data</title>
	<link>https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/</link>
	<dc:date>2014-06-29T10:53:40Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[Semantic Web]]></dc:subject>
		<dc:subject><![CDATA[Cayley]]></dc:subject>
		<dc:subject><![CDATA[Cayley Graph]]></dc:subject>
		<dc:subject><![CDATA[Google]]></dc:subject>
		<dc:subject><![CDATA[graph data]]></dc:subject>
		<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Ordnance Survey]]></dc:subject>
	<description><![CDATA[Earlier this month Google announced the release of the open source graph database/triplestore Cayley. This weekend I thought I would have a quick look at it, and try some simple queries using the Ordnance Survey Linked Data. Cayley is written in Go, so first I had to download and install that. I then downloaded Cayley [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=448&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p>Earlier this month Google <a href="http://google-opensource.blogspot.co.uk/2014/06/cayley-graphs-in-go.html">announced</a> the release of the open source <a href="http://en.wikipedia.org/wiki/Graph_database">graph database</a>/<a href="http://en.wikipedia.org/wiki/Triplestore">triplestore</a> <a href="https://github.com/google/cayley">Cayley</a>. This weekend I thought I would have a quick look at it, and try some simple queries using the <a href="http://data.ordnancesurvey.co.uk">Ordnance Survey Linked Data</a>.</p>
<p>Cayley is written in <a href="http://golang.org/">Go</a>, so first I had to download and install that. I then downloaded Cayley from <a href="https://github.com/google/cayley/releases">here</a>. As an initial experiment I decided to use the <a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line">Boundary Line Linked Data</a>, and you can grabbed the data as n-triples <a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/downloads">here</a>. I only wanted a subset of this data &#8211; I didn&#8217;t need all of the triplestores storing the complex boundary geometries for my initial test so I discarded the files of the form *-geom.nt and the files of the form county.nt, dbu.nt etc. (these are the ones with the boundaries in). Finally I put the remainder of the data into one file so it was ready to load into Cayley.</p>
<p>It is very easy to load data into Cayley &#8211; see the getting started section part on the Cayley pages <a href="https://github.com/google/cayley">here</a>. I decided I wanted to try the web interface so loading the data (in a file called all.nt) was a simple case of typing:</p>
<p><strong>./cayley http &#8211;dbpath=./boundaryline/all.nt</strong></p>
<p>Once you&#8217;ve done this point your web browser to <a href="http://localhost:64210/">http://localhost:64210/</a> and you should see something like:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png"><img data-attachment-id="449" data-permalink="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/screen-shot-2014-06-29-at-10-43-35/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=595&#038;h=290" data-orig-size="1776,868" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-06-29 at 10.43.35" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=595&#038;h=290?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=595&#038;h=290?w=595" class="alignnone size-full wp-image-449" src="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=595&#038;h=290" alt="Screen Shot 2014-06-29 at 10.43.35" width="595" height="290" srcset="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=593&amp;h=290 593w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=1187&amp;h=580 1187w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=150&amp;h=73 150w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=300&amp;h=147 300w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=768&amp;h=375 768w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-43-35.png?w=1024&amp;h=500 1024w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>&nbsp;</p>
<p>One of the things that will first strike people used to using <a href="http://en.wikipedia.org/wiki/Resource_Description_Framework">RDF</a>/triplestores is that Cayley does not have a <a href="http://en.wikipedia.org/wiki/SPARQL">SPARQL</a> interface, and instead uses a query language based on <a href="http://gremlindocs.com/">Gremlin</a>. I am new to Gremlin, but seems it has already been used to explore linked data &#8211; see blog from <a href="http://danbri.org/words/2011/05/10/675">Dan Brickley</a> from a few years ago.</p>
<p>The main purpose of this blog post is to give a few simple examples of queries you can perform on the Ordnance Survey data in Cayley. If you have Cayley running then you can find the query language documented <a href="http://localhost:64210/docs/GremlinAPI">here</a>.</p>
<p>At the simplest level the query language seems to be an easy way to traverse the graph by starting at a node/vertex and following incoming or outgoing links. So to find All the regions that touch <a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">Southampton</a> it is a simple case of starting at the Southampton node, following a <a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">touches</a> outbound link and returning the results:</p>
<p><strong>g.V(&#8220;<a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">http://data.ordnancesurvey.co.uk/id/7000000000037256</a>&#8220;).Out(&#8220;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&#8220;).All()</strong></p>
<p>Giving:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png"><img data-attachment-id="450" data-permalink="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/screen-shot-2014-06-29-at-10-56-15/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=595&#038;h=285" data-orig-size="1768,849" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-06-29 at 10.56.15" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=595&#038;h=285?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=595&#038;h=285?w=595" class="alignnone size-full wp-image-450" src="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=595&#038;h=285" alt="Screen Shot 2014-06-29 at 10.56.15" width="595" height="285" srcset="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=593&amp;h=285 593w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=1187&amp;h=570 1187w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=150&amp;h=72 150w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=300&amp;h=144 300w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=768&amp;h=369 768w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-56-15.png?w=1024&amp;h=492 1024w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>If you want to return the names and not the IDs:</p>
<p><strong>g.V(&#8220;<a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">http://data.ordnancesurvey.co.uk/id/7000000000037256</a>&#8220;).Out(&#8220;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&#8220;).Out(&#8220;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&#8220;).All()</strong></p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png"><img data-attachment-id="451" data-permalink="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/screen-shot-2014-06-29-at-10-58-30/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=595&#038;h=235" data-orig-size="2212,874" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-06-29 at 10.58.30" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=595&#038;h=235?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=595&#038;h=235?w=595" class="alignnone size-full wp-image-451" src="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=595&#038;h=235" alt="Screen Shot 2014-06-29 at 10.58.30" width="595" height="235" srcset="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=595&amp;h=235 595w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=1190&amp;h=470 1190w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=150&amp;h=59 150w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=300&amp;h=119 300w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=768&amp;h=303 768w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-10-58-30.png?w=1024&amp;h=405 1024w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>You can used also filter &#8211; so to just see the counties bordering Southampton:</p>
<p><strong>g.V(&#8220;<a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">http://data.ordnancesurvey.co.uk/id/7000000000037256</a>&#8220;).Out(&#8220;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&#8220;).Has(&#8220;<a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">http://www.w3.org/1999/02/22-rdf-syntax-ns#type</a>&#8220;,&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/County">http://data.ordnancesurvey.co.uk/ontology/admingeo/County</a>&#8220;).Out(&#8220;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&#8220;).All()</strong></p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png"><img data-attachment-id="452" data-permalink="https://johngoodwin225.wordpress.com/2014/06/29/quick-play-with-cayley-graph-db-and-ordnance-survey-linked-data/screen-shot-2014-06-29-at-11-01-17/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=595&#038;h=190" data-orig-size="2052,658" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-06-29 at 11.01.17" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=595&#038;h=190?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=595&#038;h=190?w=595" class="alignnone size-full wp-image-452" src="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=595&#038;h=190" alt="Screen Shot 2014-06-29 at 11.01.17" width="595" height="190" srcset="https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=593&amp;h=190 593w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=1185&amp;h=380 1185w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=150&amp;h=48 150w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=300&amp;h=96 300w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=768&amp;h=246 768w, https://johngoodwin225.files.wordpress.com/2014/06/screen-shot-2014-06-29-at-11-01-17.png?w=1024&amp;h=328 1024w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>&nbsp;</p>
<p>The Ordnance Survey linked data also has spatial predicates &#8216;contains&#8217;, &#8216;within&#8217; as well as &#8216;touches&#8217;. Analogous queries can be done with those. E.g. find me everything Southampton contains:</p>
<p><strong>g.V(&#8220;<a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">http://data.ordnancesurvey.co.uk/id/7000000000037256</a>&#8220;).Out(&#8220;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/contains">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/contains</a>&#8220;).Out(&#8220;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&#8220;).All()</strong></p>
<p>So after this very quick initial experiment it seems that Cayley is very good at providing an easy way of doing very quick/simple queries. One query I wanted to do was find everything in, say, Hampshire &#8211; the full transitive closure. This is very easy to do in SPARQL, but in Cayley (at first glance) you&#8217;d have to write some extra code (not exactly rocket science, but a bit of a faff compared to SPARQL). I rarely touch Javascript these days so for me personally this will never replace a triplestore with a SPARQL endpoint, but for JS developers this tool will be a great way to get started with and explore linked data/RDF. I might well brush up on my Javascript and provide more complicated examples in a later blog post&#8230;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/448/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/448/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=448&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/">
	<title>Visualising the Location Graph &#8211; example with Gephi and Ordnance Survey linked data</title>
	<link>https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/</link>
	<dc:date>2014-03-28T11:56:22Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Semantic Web]]></dc:subject>
		<dc:subject><![CDATA[gephi]]></dc:subject>
		<dc:subject><![CDATA[Ordnance Survey]]></dc:subject>
	<description><![CDATA[This is arguably a simpler follow up to my previous blog post, and here I want to look at visualising Ordnance Survey linked data in Gephi. Now Gephi isn&#8217;t really a GIS, but it can be used to visualise the adjacency graph where regions are represented as nodes in a graph, and links represent adjacency [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=438&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p>This is arguably a simpler follow up to my previous <a href="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/">blog post</a>, and here I want to look at visualising <a href="http://data.ordnancesurvey.co.uk">Ordnance Survey linked</a> data in Gephi. Now Gephi isn&#8217;t really a GIS, but it can be used to visualise the adjacency graph where regions are represented as nodes in a graph, and links represent adjacency relationships.</p>
<p>The approach here will be very similar to the approach in my previous blog. The main difference is that you will need to use the Ordnance Survey SPARQL endpoint and not the DBpedia one. So this time in the Gephi semantic web importer enter the following endpoint URL:</p>
<p><a href="http://data.ordnancesurvey.co.uk/datasets/os-linked-data/apis/sparql">http://data.ordnancesurvey.co.uk/datasets/os-linked-data/apis/sparql</a></p>
<p>The Ordnance Survey endpoint returns <a href="http://www.w3.org/TeamSubmission/turtle/">turtle</a> by default, and Gephi does not seem to like this. I wanted to force the output as XML. I figured this could be done in the using a &#8216;REST parameter name&#8217; (output) with value equal to xml. This did not seem to work, so instead I had to do a bit of a hack. In the &#8216;query tag&#8230;&#8217; box you will need to change the value from &#8216;query&#8217; to &#8216;output=xml&amp;query&#8217;. You should see something like this in the Semantic Web Importer now:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png"><img data-attachment-id="441" data-permalink="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/screen-shot-2014-03-28-at-11-28-28/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=595&#038;h=490" data-orig-size="616,508" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-28 at 11.28.28" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=595&#038;h=490?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=595&#038;h=490?w=595" class="alignnone size-full wp-image-441" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=595&#038;h=490" alt="Screen Shot 2014-03-28 at 11.28.28" width="595" height="490" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=595&amp;h=490 595w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=150&amp;h=124 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png?w=300&amp;h=247 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-28-28.png 616w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>Now click on the query tab. If we want to, for example, view the adjacent graph for consistuencies we can enter the following query:</p>
<p><strong>prefix gephi:&lt;<a href="http://gephi.org/">http://gephi.org/</a>&gt;</strong><br />
<strong>construct {</strong><br />
<strong>?s gephi:label ?label .</strong><br />
<strong>?s gephi:lat ?lat .</strong><br />
<strong>?s gephi:long ?long .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .}</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?s a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency">http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency</a>&gt; .</strong><br />
<strong>?o a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency">http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency</a>&gt; .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?label .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2003/01/geo/wgs84_pos#lat</a>&gt; ?lat .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2003/01/geo/wgs84_pos#long</a>&gt; ?long .</strong><br />
<strong>}</strong></p>
<p>and click &#8216;run&#8217;. To visualise the output you will need to follow the exact same steps mentioned <a href="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/">here</a> (remember to recast the lat and long variables to decimal).</p>
<p>If we want to view adjacency of London Boroughs then we can do this with a similar query:</p>
<p><strong>prefix gephi:&lt;<a href="http://gephi.org/">http://gephi.org/</a>&gt;</strong><br />
<strong>construct {</strong><br />
<strong>?s gephi:label ?label .</strong><br />
<strong>?s gephi:lat ?lat .</strong><br />
<strong>?s gephi:long ?long .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .}</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?s a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough">http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough</a>&gt; .</strong><br />
<strong>?o a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough"><strong>http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough</strong></a>&gt; .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?label .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2003/01/geo/wgs84_pos#lat</a>&gt; ?lat .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://www.w3.org/2003/01/geo/wgs84_pos#long</a>&gt; ?long .</strong><br />
<strong>}</strong></p>
<p>When visualising you might want to change the scale parameter to 10000.0. You should see something like this:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png"><img data-attachment-id="442" data-permalink="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/screen-shot-2014-03-28-at-11-40-18/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=595&#038;h=407" data-orig-size="1096,750" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-28 at 11.40.18" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=595&#038;h=407?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=595&#038;h=407?w=595" class="alignnone size-full wp-image-442" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=595&#038;h=407" alt="Screen Shot 2014-03-28 at 11.40.18" width="595" height="407" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=595&amp;h=407 595w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=150&amp;h=103 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=300&amp;h=205 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=768&amp;h=526 768w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png?w=1024&amp;h=701 1024w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-40-18.png 1096w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>So far so good. Now imagine we want to bring in some other data &#8211; recall my previous blog post <a href="https://johngoodwin225.wordpress.com/2014/03/23/tell-me-about-hamsphire-linking-government-data-using-sparql-federation-2/">here</a>. We can use SPARQL federation to bring in data from other endpoints. Suppose we would like to make the size of the node represent the &#8216;<a href="http://opendatacommunities.org/def/IMD#IMD-rank">IMD rank</a>&#8216; of each London Borough&#8230;we can do with by bringing in data from the <a href="http://opendatacommunities.org">Open Data Communities site</a>:</p>
<p><strong>prefix gephi:&lt;<a href="http://gephi.org/">http://gephi.org/</a>&gt;</strong><br />
<strong>construct {</strong><br />
<strong>?s gephi:label ?label .</strong><br />
<strong>?s gephi:lat ?lat .</strong><br />
<strong>?s gephi:long ?long .</strong><br />
<strong>?s gephi:imd-rank ?imdrank .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .}</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?s a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough">http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough</a>&gt; .</strong><br />
<strong>?o a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough">http://data.ordnancesurvey.co.uk/ontology/admingeo/LondonBorough</a>&gt; .</strong><br />
<strong>?s &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; ?o .</strong><br />
<strong>?s &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?label .</strong><br />
<strong>?s &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2003/01/geo/wgs84_pos#lat</a>&gt; ?lat .</strong><br />
<strong>?s &lt;<a href="http://www.w3.org/2003/01/geo/wgs84_pos#long">http://www.w3.org/2003/01/geo/wgs84_pos#long</a>&gt; ?long .</strong><br />
<strong> SERVICE &lt;<a href="http://opendatacommunities.org/sparql">http://opendatacommunities.org/sparql</a>&gt; {</strong><br />
<strong> ?x &lt;<a href="http://purl.org/linked-data/sdmx/2009/dimension#refArea">http://purl.org/linked-data/sdmx/2009/dimension#refArea</a>&gt; ?s .</strong><br />
<strong>?x &lt;<a href="http://opendatacommunities.org/def/IMD#IMD-score">http://opendatacommunities.org/def/IMD#IMD-score</a>&gt; ?imdrank . }</strong><br />
<strong>}</strong></p>
<p>You will need to recast the imdrank as an integer for what follows (do this using the same approach used to recast the lat/long variables). You can now use Gephi to resize the nodes according to IMD rank. We do this using the ranking tab:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png"><img data-attachment-id="443" data-permalink="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/screen-shot-2014-03-28-at-11-50-43/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=595" data-orig-size="509,265" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-28 at 11.50.43" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=595?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=595?w=509" class="alignnone size-full wp-image-443" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=595" alt="Screen Shot 2014-03-28 at 11.50.43" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png 509w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=150 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-50-43.png?w=300 300w" sizes="(max-width: 509px) 100vw, 509px"   /></a></p>
<p>You should now see you London Boroughs re-sized according to their IMD rank:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png"><img data-attachment-id="444" data-permalink="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/screen-shot-2014-03-28-at-11-51-51/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=595&#038;h=421" data-orig-size="1054,747" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-28 at 11.51.51" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=595&#038;h=421?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=595&#038;h=421?w=595" class="alignnone size-full wp-image-444" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=595&#038;h=421" alt="Screen Shot 2014-03-28 at 11.51.51" width="595" height="421" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=595&amp;h=421 595w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=150&amp;h=106 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=300&amp;h=213 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=768&amp;h=544 768w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png?w=1024&amp;h=726 1024w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-11-51-51.png 1054w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>turning the lights off and adding some labels we get:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png"><img data-attachment-id="446" data-permalink="https://johngoodwin225.wordpress.com/2014/03/28/visualising-the-location-graph-example-with-gephi-and-ordnance-survey-linked-data/screen-shot-2014-03-28-at-12-04-27/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=595&#038;h=426" data-orig-size="1156,828" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-28 at 12.04.27" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=595&#038;h=426?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=595&#038;h=426?w=595" class="alignnone size-full wp-image-446" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=595&#038;h=426" alt="Screen Shot 2014-03-28 at 12.04.27" width="595" height="426" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=595&amp;h=426 595w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=150&amp;h=107 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=300&amp;h=215 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=768&amp;h=550 768w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png?w=1024&amp;h=733 1024w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-28-at-12-04-27.png 1156w" sizes="(max-width: 595px) 100vw, 595px" /></a></p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/438/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/438/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=438&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/">
	<title>All roads lead to? Experiments with Gephi, Linked Data and Wikipedia</title>
	<link>https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/</link>
	<dc:date>2014-03-26T16:24:18Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[dbpedia]]></dc:subject>
		<dc:subject><![CDATA[gephi]]></dc:subject>
		<dc:subject><![CDATA[wikipedia]]></dc:subject>
	<description><![CDATA[Gephi is &#8220;an interactive visualization and exploration platform for all kinds of networks and complex systems, dynamic and hierarchical graphs&#8221;. Tony Hirst did a great blog post a while back showing how you could use Gephi together with DBpedia (a linked data version of Wikipedia) to map an influence network in the world of philosophy. [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=426&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p><a href="http://gephi.org/">Gephi</a> is &#8220;an interactive visualization and exploration <a href="http://gephi.org/features/">platform</a> for all kinds of networks and complex systems, dynamic and hierarchical graphs&#8221;. <a href="https://twitter.com/psychemedia">Tony Hirst</a> did a great <a href="http://blog.ouseful.info/2012/07/03/visualising-related-entries-in-wikipedia-using-gephi/">blog post</a> a while back showing how you could use Gephi together with <a href="http://dbpedia.org/About">DBpedia</a> (a <a href="http://linkeddata.org/">linked data</a> version of <a href="http://en.wikipedia.org/wiki/Main_Page">Wikipedia</a>) to map an influence network in the world of philosophy. Gephi offers a semantic web plugin which allows you to work with the web of linked data. I recommend you read Tony&#8217;s blog to get started with using that plugin with Gephi. I was interested to experiment with this plugin, and to look at what sort of geospatial visualisations could be possible.</p>
<p>If you want to follow all the steps in this post you will need to:</p>
<ul>
<li><a href="http://gephi.org/users/download/">Install Gephi</a></li>
<li><a href="http://gephi.org/tag/geolayout/">Install the geolayout plugin</a></li>
<li><a href="https://marketplace.gephi.org/plugin/recast-column/">Install the &#8216;recast column plugin&#8217;</a></li>
<li><a href="http://wiki.gephi.org/index.php/SemanticWebImport">Install the semantic web plugin</a></li>
<li><a href="http://blog.ouseful.info/2012/07/03/visualising-related-entries-in-wikipedia-using-gephi/">Read Tony&#8217;s blog</a></li>
</ul>
<p>Initially I was interested to see if there were any interesting networks we might visualise between places. In order to see how Wikipedia relates one place to another was a simple case of going to the <a href="http://dbpedia.org/sparql">DBpedia SPARQL endpoint</a> and trying the following query:</p>
<p><strong>select distinct ?p</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?s a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?o a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?s ?p ?o .</strong><br />
<strong>}</strong></p>
<p>&#8211; where s and o are places, find me what &#8216;p&#8217; relates them. I noticed two properties &#8216;<a href="http://dbpedia.org/ontology/routeStart">http://dbpedia.org/ontology/routeStart</a>&#8216; and &#8216;<a href="http://dbpedia.org/ontology/routeEnd">http://dbpedia.org/ontology/routeEnd</a>&#8216; so I thought I would try to visualise how places round the world were linked by transport connections.  To find places connected by a transport link you want to find pairs &#8216;start&#8217; and &#8216;end&#8217; that are the route start and route end, respectively, of some transport link. You can do this with the following query:</p>
<p><strong>select ?start ?end</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?start a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?end a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeStart">http://dbpedia.org/ontology/routeStart</a>&gt; ?start .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeEnd">http://dbpedia.org/ontology/routeEnd</a>&gt; ?end .</strong><br />
<strong>}</strong></p>
<p>This gives a lot of data so I thought I would restrict the links to be only road links:</p>
<p><strong>select ?start ?end</strong><br />
<strong>where</strong><br />
<strong>{</strong><strong><strong>?start a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?end a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeStart">http://dbpedia.org/ontology/routeStart</a>&gt; ?start .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeEnd">http://dbpedia.org/ontology/routeEnd</a>&gt; ?end .</strong><br />
?link a &lt;<a href="http://dbpedia.org/ontology/Road">http://dbpedia.org/ontology/Road</a>&gt; . }<br />
</strong></p>
<p>We are now ready to visualise this transport network in Gephi. Follow the steps in <a href="http://blog.ouseful.info/2012/07/03/visualising-related-entries-in-wikipedia-using-gephi/">Tony&#8217;s blog</a> to bring up the Semantic Web Importer. In the &#8216;driver&#8217; tab make sure &#8216;Remote &#8211; SOAP endpoint&#8217; is selected, and the EndPoint URL is <a href="http://dbpedia.org/sparql">http://dbpedia.org/sparql</a>. In an analogous way to Tony&#8217;s blog we need to construct our graph so we can visualise it. To simply view the connections between places it would be enough to just add this query to the &#8216;Query&#8217; tab:</p>
<p><strong> construct {?start &lt;<a href="http://foo.com/connectedTo">http://foo.com/connectedTo</a>&gt; ?end}</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?start a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?end a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeStart">http://dbpedia.org/ontology/routeStart</a>&gt; ?start .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeEnd">http://dbpedia.org/ontology/routeEnd</a>&gt; ?end .</strong><br />
<strong>?link a &lt;<a href="http://dbpedia.org/ontology/Road">http://dbpedia.org/ontology/Road</a>&gt; .</strong><br />
<strong>}</strong></p>
<p>However, as we want to visualise this in a geospatial context we need the lat and long of the start and end points so our construct query becomes a bit more complicated:</p>
<p><strong>prefix gephi:&lt;<a href="http://gephi.org/">http://gephi.org/</a>&gt;</strong><br />
<strong>construct {</strong><br />
<strong>?start gephi:label ?labelstart .</strong><br />
<strong>?end gephi:label ?labelend .</strong><br />
<strong>?<strong>start</strong> gephi:lat ?minlat .</strong><br />
<strong>?<strong>start</strong> gephi:long ?minlong .</strong><br />
<strong>?<strong>end</strong> gephi:lat ?minlat2 .</strong><br />
<strong>?<strong>end</strong> gephi:long ?minlong2 .</strong><br />
<strong>?<strong>start</strong> &lt;<a href="http://foo.com/connectedTo">http://foo.com/connectedTo</a>&gt; ?<strong>end</strong>}</strong><br />
<strong>where</strong><br />
<strong>{</strong><br />
<strong>?<strong>start</strong> a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?<strong>end</strong> a &lt;<a href="http://schema.org/Place">http://schema.org/Place</a>&gt; .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeStart">http://dbpedia.org/ontology/routeStart</a>&gt; ?start .</strong><br />
<strong>?link &lt;<a href="http://dbpedia.org/ontology/routeEnd">http://dbpedia.org/ontology/routeEnd</a>&gt; ?<strong>end</strong> .</strong><br />
<strong>?link a &lt;<a href="http://dbpedia.org/ontology/Road">http://dbpedia.org/ontology/Road</a>&gt; .</strong><br />
<strong>{select ?<strong>start</strong> (MIN(?lat) AS ?minlat) (MIN(?long) AS ?minlong) where {?<strong>start</strong> &lt;<a href="http://www.w3.org/2003/01/geo/wgs84_pos#lat">http://www.w3.org/2003/01/geo/wgs84_pos#lat</a>&gt; ?lat . ?<strong>start</strong> &lt;<a href="http://www.w3.org/2003/01/geo/wgs84_pos#long">http://www.w3.org/2003/01/geo/wgs84_pos#long</a>&gt; ?long .} }</strong><br />
<strong>{select ?<strong>end</strong> (MIN(?lat2) AS ?minlat2) (MIN(?long2) AS ?minlong2) where {?<strong>end</strong> &lt;<a href="http://www.w3.org/2003/01/geo/wgs84_pos#lat">http://www.w3.org/2003/01/geo/wgs84_pos#lat</a>&gt; ?lat2 . ?<strong>end</strong> &lt;<a href="http://www.w3.org/2003/01/geo/wgs84_pos#long">http://www.w3.org/2003/01/geo/wgs84_pos#long</a>&gt; ?long2 .} }</strong><br />
<strong>?<strong>start</strong> &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?labelstart .</strong><br />
<strong>?<strong>end</strong> &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?labelend .</strong><br />
<strong>FILTER (lang(?labelstart) = &#8216;en&#8217;)</strong><br />
<strong>FILTER (lang(?labelend) = &#8216;en&#8217;)</strong><br />
<strong>}</strong></p>
<p>Note that query for the lat and long is a bit more complicated that it might be. This is because DBpedia data is quite messy, and many entities will have more than one lat/long pair. I used a <a href="http://www.w3.org/TR/sparql11-query/#subqueries">subquery</a> in SPARQL to pull out the minimum lat/long for all the pairs retrieved. Additionally I also retrieved the English labels for each of the start/end points.</p>
<p>Now copy/paste this construct query into the &#8216;Query&#8217; tab on the Semantic Web Importer:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png"><img data-attachment-id="428" data-permalink="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/screen-shot-2014-03-26-at-15-54-34/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=595&#038;h=574" data-orig-size="606,585" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-26 at 15.54.34" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=595&#038;h=574?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=595&#038;h=574?w=595" class="alignnone size-full wp-image-428" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=595&#038;h=574" alt="Screen Shot 2014-03-26 at 15.54.34" width="595" height="574" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=595&amp;h=574 595w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=150&amp;h=145 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png?w=300&amp;h=290 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-15-54-34.png 606w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>Now hit the run button and watch the data load.</p>
<p>To visual the data we need to do a bit more work. In Gephi click on the &#8216;Data Laboratory&#8217; and you should now see your data table. Unfortunately all of the lats and longs have been imported as strings and we need to recast them as decimals. To do this click on the &#8216;More actions&#8217; pull down menu and look for &#8216;Recast column&#8217; and click it. In the &#8216;Recast manipulator&#8217; window go to &#8216;column&#8217; and select &#8216;lat(Node Table)&#8217; from the pull down menu. Under &#8216;Convert to&#8217; select &#8216;Double&#8217; and click recast. Do the same for &#8216;long&#8217;.</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png"><img data-attachment-id="429" data-permalink="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/screen-shot-2014-03-26-at-16-01-19/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=595" data-orig-size="584,440" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-26 at 16.01.19" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=595?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=595?w=584" class="alignnone size-full wp-image-429" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=595" alt="Screen Shot 2014-03-26 at 16.01.19" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png 584w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=150 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-01-19.png?w=300 300w" sizes="(max-width: 584px) 100vw, 584px"   /></a></p>
<p>when you are done click &#8216;ok&#8217; and return to the &#8216;overview&#8217; tab in Gephi. To see this data geospatially go to the layout panel and select &#8216;Geo Layout&#8217;. Change the latitude and longitude to your new recast variable names, and unclick &#8216;center&#8217; (my graph kept vanishing with it selected). Experiment with the scale value:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png"><img data-attachment-id="430" data-permalink="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/screen-shot-2014-03-26-at-16-09-49/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=595" data-orig-size="505,267" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-26 at 16.09.49" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=595?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=595?w=505" class="alignnone size-full wp-image-430" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=595" alt="Screen Shot 2014-03-26 at 16.09.49" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png 505w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=150 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-09-49.png?w=300 300w" sizes="(max-width: 505px) 100vw, 505px"   /></a></p>
<p>You should now see something like this:</p>
<p><a href="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png"><img data-attachment-id="431" data-permalink="https://johngoodwin225.wordpress.com/2014/03/26/all-roads-lead-to-experiments-with-gephi-linked-data-and-wikipedia/screen-shot-2014-03-26-at-16-11-13/" data-orig-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=595&#038;h=343" data-orig-size="1346,778" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="Screen Shot 2014-03-26 at 16.11.13" data-image-description="" data-medium-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=595&#038;h=343?w=300" data-large-file="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=595&#038;h=343?w=595" class="alignnone size-full wp-image-431" src="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=595&#038;h=343" alt="Screen Shot 2014-03-26 at 16.11.13" width="595" height="343" srcset="https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=593&amp;h=343 593w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=1187&amp;h=686 1187w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=150&amp;h=87 150w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=300&amp;h=173 300w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=768&amp;h=444 768w, https://johngoodwin225.files.wordpress.com/2014/03/screen-shot-2014-03-26-at-16-11-13.png?w=1024&amp;h=592 1024w" sizes="(max-width: 595px) 100vw, 595px" /></a></p>
<p>in your display panel (click image to view in higher resolution).</p>
<p>Given that this is supposed to be a road network you will find some oddities. This it seems to down to &#8216;European routes&#8217; like <a href="http://en.wikipedia.org/wiki/European_route_E15"><span dir="auto">European route E15</span></a> that link from Scotland down to Spain.</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/426/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/426/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=426&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/">
	<title>First Signs (For Me) of Linked Data Being Properly Linked&#8230;?!</title>
	<link>https://johngoodwin225.wordpress.com/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/</link>
	<dc:date>2014-03-25T15:41:10Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[Uncategorized]]></dc:subject>
	<description><![CDATA[Originally posted on <a href="http://blog.ouseful.info/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/">OUseful.Info, the blog...</a>: <br />As anyone who&#8217;s followed this blog for some time will know, my relationship with Linked Data has been an off and on again one over the years. At the current time, it&#8217;s largely off &#8211; all my OpenRefine installs seem to have given up the ghost as far&#8230;<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=425&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<div class="wpcom-reblog-snapshot"><div class="reblogger-note"><div class='reblogger-note-content'><blockquote><p>Tony Hirst blogs about two of my recent blogs&#8230;</p>
</blockquote></div></div><div class="reblog-post"><p class="reblog-from"><img alt='' src='https://1.gravatar.com/avatar/abbd9f90565ce9ae4d065d93a81d8c03?s=32&#038;d=identicon&#038;r=G' class='avatar avatar-32' height='32' width='32' /><a href="http://blog.ouseful.info/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/">OUseful.Info, the blog...</a></p><div class="reblogged-content">
<p>As anyone who’s followed this blog for some time will know, my relationship with Linked Data has been an off and on again one over the years. At the current time, it’s largely off – all my OpenRefine installs seem to have given up the ghost as far as reconciliation and linking services go, and I have no idea where the problem lies (whether with the plugins, the installs, with Java, with the endpoints, with the reconciliations or linkages I’m trying to establish).</p>

<p>My dabblings with pulling data in from Wikipedia/DBpedia to Gephi (eg as described in <a href="http://blog.ouseful.info/2012/07/03/visualising-related-entries-in-wikipedia-using-gephi/">Visualising Related Entries in Wikipedia Using Gephi</a> and the various associated follow-on posts) continue to be hit and miss due to the vagaries of DBpedia and the huge gaps in infobox structured data across Wikipedia itself.</p>

<p>With OpenRefine not doing its thing for me, I haven’t been able to use that app as…</p>
</div><p class="reblog-source"><a href="http://blog.ouseful.info/2014/03/25/first-signs-for-me-of-linked-data-being-properly-linked/">View original post</a> <span class="more-words">346 more words</span></p></div></div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/425/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/425/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=425&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/03/23/tell-me-about-hamsphire-linking-government-data-using-sparql-federation-2/">
	<title>Tell Me About Hampshire &#8211; Linking Government Data using SPARQL federation 2</title>
	<link>https://johngoodwin225.wordpress.com/2014/03/23/tell-me-about-hamsphire-linking-government-data-using-sparql-federation-2/</link>
	<dc:date>2014-03-23T11:39:14Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Semantic Web]]></dc:subject>
		<dc:subject><![CDATA[open data]]></dc:subject>
	<description><![CDATA[Yesterday I blogged about how to do some SPARQL federated queries across various government websites, and this blog is a continuation of this with a different example. In this blog I give an example query which basically say &#8216;tell me stuff about Hampshire&#8216;. I do this by linking up data from Ordnance Survey, the Office [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=421&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p><a href="https://johngoodwin225.wordpress.com/2014/03/22/federating-sparql-queries-across-government-linked-data/">Yesterday I blogged </a>about how to do some SPARQL federated queries across various government websites, and this blog is a continuation of this with a different example. In this blog I give an example query which basically say &#8216;tell me stuff about <a href="http://data.ordnancesurvey.co.uk/id/7000000000017765">Hampshire</a>&#8216;. I do this by linking up data from <a href="http://data.ordnancesurvey.co.uk">Ordnance Survey</a>, the <a href="http://statistics.data.gov.uk">Office of National Statistics</a>, the <a href="http://opendatacommunities.org">Department of Communities and Local Government</a> and <a href="http://linkeddata.hants.gov.uk">Hampshire County Council</a>. This query is really just for illustrative purposes, but I want to ask &#8216;for all districts in Hampshire find me the index of multiple deprivation rank, the change order and operative date for that district, the website for the local authority of that district along with the <a href="http://linkeddata.hants.gov.uk/datasets/land-supply/land-supply-site">addresses of parcels of land where it is planned to build new dwellings</a>. To achieve this I need to take data from several sources and use SPARQL federation. Here is the query that answers my question. First I query Ordnance Survey linked data to find districts in Hampshire, and I then pass these districts to three other linked data services to retrieve the relevant information. To try this example head over to the <a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/explorer/sparql">Ordnance Survey SPARQL endpoint</a> and copy/paste the following:</p>
<p><strong>select ?districtname ?imdrank ?changeorder ?opdate ?councilwebsite ?siteaddress</strong><br />
<strong>where</strong><br />
<strong>{?district &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within</a>&gt; </strong><br />
<strong>   &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000017765">http://data.ordnancesurvey.co.uk/id/7000000000017765</a>&gt; .</strong><br />
<strong>  ?district a &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/District">http://data.ordnancesurvey.co.uk/ontology/admingeo/District</a>&gt; .</strong><br />
<strong>  ?district &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?districtname .</strong><br />
<strong> SERVICE &lt;<a href="http://opendatacommunities.org/sparql">http://opendatacommunities.org/sparql</a>&gt; {</strong><br />
<strong> ?s &lt;<a href="http://purl.org/linked-data/sdmx/2009/dimension#refArea">http://purl.org/linked-data/sdmx/2009/dimension#refArea</a>&gt; ?district .</strong><br />
<strong>?s &lt;<a href="http://opendatacommunities.org/def/IMD#IMD-rank">http://opendatacommunities.org/def/IMD#IMD-rank</a>&gt; ?imdrank . </strong><br />
<strong> ?authority &lt;<a href="http://opendatacommunities.org/def/local-government/governs">http://opendatacommunities.org/def/local-government/governs</a>&gt; ?district .</strong><br />
<strong> ?authority &lt;<a href="http://xmlns.com/foaf/0.1/page">http://xmlns.com/foaf/0.1/page</a>&gt; ?councilwebsite .</strong><br />
<strong> }</strong><br />
<strong> ?district &lt;<a href="http://www.w3.org/2002/07/owl#sameAs">http://www.w3.org/2002/07/owl#sameAs</a>&gt; ?onsdist .</strong><br />
<strong> SERVICE &lt;<a href="http://statistics.data.gov.uk/sparql">http://statistics.data.gov.uk/sparql</a>&gt; {</strong><br />
<strong> ?onsdist &lt;<a href="http://statistics.data.gov.uk/def/boundary-change/originatingChangeOrder">http://statistics.data.gov.uk/def/boundary-change/originatingChangeOrder</a>&gt; </strong><br />
<strong>          ?changeorder .</strong><br />
<strong> ?onsdist &lt;<a href="http://statistics.data.gov.uk/def/boundary-change/operativedate">http://statistics.data.gov.uk/def/boundary-change/operativedate</a>&gt;</strong><br />
<strong>          ?opdate .</strong><br />
<strong> }</strong><br />
<strong> SERVICE &lt;<a href="http://linkeddata.hants.gov.uk/sparql">http://linkeddata.hants.gov.uk/sparql</a>&gt; {</strong><br />
<strong>   ?landsupsite &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/district">http://data.ordnancesurvey.co.uk/ontology/admingeo/district</a>&gt; ?district .</strong><br />
<strong>   ?landsupsite a &lt;<a href="http://linkeddata.hants.gov.uk/def/land-supply/LandSupplySite">http://linkeddata.hants.gov.uk/def/land-supply/LandSupplySite</a>&gt; .</strong><br />
<strong>   ?landsupsite </strong><br />
<strong>&lt;<a href="http://www.ordnancesurvey.co.uk/ontology/BuildingsAndPlaces/v1.1/BuildingsAndPlaces.owl#hasAddress">http://www.ordnancesurvey.co.uk/ontology/BuildingsAndPlaces/v1.1/BuildingsAndPlaces.owl#hasAddress</a>&gt;</strong><br />
<strong>   ?siteaddress .</strong><br />
<strong>   }</strong><br />
<strong>}</strong></p>
<p>Happy SPARQLing&#8230;</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/421/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/421/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=421&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2014/03/22/federating-sparql-queries-across-government-linked-data/">
	<title>Federating SPARQL Queries Across Government Linked Data</title>
	<link>https://johngoodwin225.wordpress.com/2014/03/22/federating-sparql-queries-across-government-linked-data/</link>
	<dc:date>2014-03-22T17:51:58Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Semantic Web]]></dc:subject>
	<description><![CDATA[SPARQL 1.1 introduces the idea of federated SPARQL queries &#8211; this enables you to execute part of your SPARQL query against a remote SPARQL endpoint. I thought I&#8217;d provide some examples of using this feature in government linked open data. The Environment Agency has published a number of its open data offerings as linked data [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=411&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p>SPARQL 1.1 introduces the idea of federated SPARQL queries &#8211; this enables you to execute part of your SPARQL query against a remote SPARQL endpoint. I thought I&#8217;d provide some examples of using this feature in government linked open data.</p>
<p>The <a href="http://www.environment-agency.gov.uk/">Environment Agency</a> has published a number of its open data offerings as linked data which you can explore <a href="http://environment.data.gov.uk/">here</a>. One of these datasets is the <a href="http://environment.data.gov.uk/bwq">Bathing Water Quality Data</a>, and you can explore this via their <a href="http://environment.data.gov.uk/bwq/sparql.html">SPARQL endpoint</a>. I won&#8217;t go into this data in too much detail as it is not my area of expertise. The Environment Agency has created <a href="http://5stardata.info/">5-star open data</a> by linking their data to both <a href="http://data.ordnancesurvey.co.uk">Ordnance Survey</a> and <a href="http://statistics.data.gov.uk">Office of National Statistics</a> linked data. Look at linked data for the <a href="http://environment.data.gov.uk/id/bathing-water/ukj3307-16300">Eastoke</a> bathing water site and you&#8217;ll see it linked to <a href="http://data.ordnancesurvey.co.uk/id/7000000000017297">Havant</a> and <a href="http://data.ordnancesurvey.co.uk/id/7000000000017765">Hampshire</a> in the Ordnance Survey data. A relatively straight forward SPARQL query will get you  a list of bathing waters, their name and the district they are in:</p>
<p><strong>select ?x ?name ?district</strong><br />
<strong>where {</strong><br />
<strong>?x a &lt;<a href="http://environment.data.gov.uk/def/bathing-water/BathingWater">http://environment.data.gov.uk/def/bathing-water/BathingWater</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?name .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://statistics.data.gov.uk/def/administrative-geography/district</a>&gt; ?district .}</strong></p>
<p>Now suppose we just want a list of bathing water areas in <a href="http://data.ordnancesurvey.co.uk/id/7000000000041421">South East</a> England &#8211; how would we do that? This is where <a href="http://www.w3.org/TR/sparql11-federated-query/">SPARQL federation</a> comes in. The information about which European Regions districts are in is held in the Ordnance Survey linked data. If you hop over the the <a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/explorer/sparql">Ordnance Survey</a> SPARQL endpoint explorer you can run the following query to find all districts in South East England along with their names (please see a <a href="https://johngoodwin225.wordpress.com/2013/08/02/ordnance-survey-linked-data-a-simple-spatial-query/">previous blog post</a> for information about simple spatial queries):</p>
<p><strong>select ?district ?districtname</strong><br />
<strong>where</strong><br />
<strong>{?district &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within</a>&gt;+ </strong><br />
<strong>   &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000041421">http://data.ordnancesurvey.co.uk/id/7000000000041421</a>&gt; .</strong><br />
<strong>  ?district &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?districtname .}</strong></p>
<p>Using the <a href="http://www.w3.org/TR/sparql11-federated-query/#simpleService">SERVICE</a> keyword we can bring these two queries together to find all bathing waters in South East England, and the districts they are in:</p>
<p><strong>select ?x ?name ?districtname </strong><br />
<strong>where {</strong><br />
<strong>?x a &lt;<a href="http://environment.data.gov.uk/def/bathing-water/BathingWater">http://environment.data.gov.uk/def/bathing-water/BathingWater</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?name .</strong><br />
<strong>?x &lt;<a href="http://statistics.data.gov.uk/def/administrative-geography/district">http://statistics.data.gov.uk/def/administrative-geography/district</a>&gt; ?district .</strong><br />
<strong>SERVICE &lt;<a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql">http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql</a>&gt;</strong><br />
<strong>{ ?district &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/within</a>&gt;+ </strong><br />
<strong>   &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000041421">http://data.ordnancesurvey.co.uk/id/7000000000041421</a>&gt; .</strong><br />
<strong>   ?district &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?districtname .}</strong><br />
<strong>}</strong><br />
<strong>order by ?districtname</strong></p>
<p>Now supposed we want to know the sediment types of the bathing waters in Havant. We can find this with the following query:</p>
<p><strong>select ?x ?name ?sediment</strong><br />
<strong>where {</strong><br />
<strong>?x a &lt;<a href="http://environment.data.gov.uk/def/bathing-water/BathingWater">http://environment.data.gov.uk/def/bathing-water/BathingWater</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?name .</strong><br />
<strong>?x &lt;<a href="http://statistics.data.gov.uk/def/administrative-geography/district">http://statistics.data.gov.uk/def/administrative-geography/district</a>&gt; &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000017297">http://data.ordnancesurvey.co.uk/id/7000000000017297</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent">http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent</a>&gt; ?sediment .</strong><br />
<strong>}</strong></p>
<p>We can again use the SPARQL federation to do something more interesting. The follow query returns both sediment types in bathing waters in Havant together with sediment types of bathing water in regions that touch Havant:</p>
<p><strong>select ?x ?name ?sediment</strong><br />
<strong>where {</strong><br />
<strong>{</strong><br />
<strong>?x a &lt;<a href="http://environment.data.gov.uk/def/bathing-water/BathingWater">http://environment.data.gov.uk/def/bathing-water/BathingWater</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?name .</strong><br />
<strong>?x &lt;<a href="http://statistics.data.gov.uk/def/administrative-geography/district">http://statistics.data.gov.uk/def/administrative-geography/district</a>&gt; &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000017297">http://data.ordnancesurvey.co.uk/id/7000000000017297</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent">http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent</a>&gt; ?sediment .</strong><br />
<strong>}</strong><br />
<strong>UNION</strong><br />
<strong>{</strong><br />
<strong>SERVICE &lt;<a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql">http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql</a>&gt;</strong><br />
<strong>{ ?district &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt; </strong><br />
<strong>   &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/id/7000000000017297</a>&gt; .</strong><br />
<strong>}</strong><br />
<strong>?x a &lt;<a href="http://environment.data.gov.uk/def/bathing-water/BathingWater">http://environment.data.gov.uk/def/bathing-water/BathingWater</a>&gt; .</strong><br />
<strong>?x &lt;<a href="http://www.w3.org/2000/01/rdf-schema#label">http://www.w3.org/2000/01/rdf-schema#label</a>&gt; ?name .</strong><br />
<strong>?x &lt;<a href="http://statistics.data.gov.uk/def/administrative-geography/district">http://statistics.data.gov.uk/def/administrative-geography/district</a>&gt; ?district .</strong><br />
<strong>?x &lt;<a href="http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent">http://environment.data.gov.uk/def/bathing-water/sedimentTypesPresent</a>&gt; ?sediment .</strong><br />
<strong>}</strong><br />
<strong>}</strong></p>
<p>Another great government open data resource is the <a href="http://opendatacommunities.org/">Open Data Communities site</a>. They have a SPARQL endpoint <a href="http://opendatacommunities.org/sparql">here</a>. This federated SPARQL query (analogous to those above) can be used, for example, to find the Index of Multiple Deprivation Environment rank for Havant and surrounding districts. This works are follows:</p>
<p><strong></strong><strong>select ?s ?imdrank<br />
where<br />
{<br />
{<br />
?s &lt;<a href="http://purl.org/linked-data/sdmx/2009/dimension#refArea">http://purl.org/linked-data/sdmx/2009/dimension#refArea</a>&gt; &lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000017297">http://data.ordnancesurvey.co.uk/id/7000000000017297</a>&gt; .<br />
?s &lt;<a href="http://opendatacommunities.org/def/IMD#IMD-environment-rank">http://opendatacommunities.org/def/IMD#IMD-environment-rank</a>&gt; ?imdrank .<br />
}<br />
UNION<br />
{<br />
SERVICE &lt;<a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql">http://data.ordnancesurvey.co.uk/datasets/boundary-line/apis/sparql</a>&gt;<br />
{ ?district &lt;<a href="http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches">http://data.ordnancesurvey.co.uk/ontology/spatialrelations/touches</a>&gt;<br />
&lt;<a href="http://data.ordnancesurvey.co.uk/id/7000000000017297">http://data.ordnancesurvey.co.uk/id/7000000000017297</a>&gt; .<br />
}<br />
?s &lt;<a href="http://purl.org/linked-data/sdmx/2009/dimension#refArea">http://purl.org/linked-data/sdmx/2009/dimension#refArea</a>&gt; ?district .<br />
?s &lt;<a href="http://opendatacommunities.org/def/IMD#IMD-environment-rank">http://opendatacommunities.org/def/IMD#IMD-environment-rank</a>&gt; ?imdrank .<br />
}<br />
}<br />
</strong></p>
<p>I will now leave it as an exercise to the reader to figure out how these all combine so you can ask for &#8216;all bathing waters in Havant and surrounding areas, and the IMD environment ranks of the areas containing those bathing waters&#8217; &#8211; it is possible!</p>
<p>Please note that federated SPARQL can be slow&#8230;happy SPARQLing.</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/411/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/411/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=411&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
<item rdf:about="https://johngoodwin225.wordpress.com/2013/09/24/ordnance-survey-linked-data-the-search-api/">
	<title>Ordnance Survey Linked Data: The Search API</title>
	<link>https://johngoodwin225.wordpress.com/2013/09/24/ordnance-survey-linked-data-the-search-api/</link>
	<dc:date>2013-09-24T14:32:24Z</dc:date>
	<dc:creator><![CDATA[John G]]></dc:creator>
			<dc:subject><![CDATA[linked data]]></dc:subject>
		<dc:subject><![CDATA[Semantic Web]]></dc:subject>
		<dc:subject><![CDATA[open search]]></dc:subject>
		<dc:subject><![CDATA[Ordnance Survey]]></dc:subject>
	<description><![CDATA[Please note in some of the examples below I have been having trouble with wordpress &#8216;correcting&#8217; quote marks in my text. If you find the queries don&#8217;t work you may need to manually replace the copied quote marks from below with new ones via your keyboard. Hope that makes sense. One of the biggest improvements [&#8230;]<img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=392&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></description>
	<content:encoded><![CDATA[<p><em>Please note in some of the examples below I have been having trouble with wordpress &#8216;correcting&#8217; quote marks in my text. If you find the queries don&#8217;t work you may need to manually replace the copied quote marks from below with new ones via your keyboard. Hope that makes sense.</em></p>
<p>One of the biggest improvements to the new <a href="http://data.ordnancesurvey.co.uk/">Ordnance Survey Linked Data site</a> is the much improved search functionality. You can either search over a specific dataset (e.g. the <a href="http://data.ordnancesurvey.co.uk/datasets/code-point-open">Code-Point(R) Open linked data</a>) or over all the combined datasets. I will first give some examples of using the Boundary-Line(TM) search API.</p>
<p>The Boundary-Line search API explorer can be found <a href="http://data.ordnancesurvey.co.uk/datasets/boundary-line/explorer/search">here</a>. The simplest use of this search API is to enter some text for the name of an administrative area or the <a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/gssCode">GSS code</a> (the ONS identifier for a statistical region) into the search box. To get started enter <em>Southampton</em> into the query box. You will see that the search results are returned in JSON (RSS and Atom are additional options). Results contain the URI of the entities that match your queries along with a number of useful attributes.</p>
<p>Note that the Request box shows the actual GET request that is being done, and you can use this GET request in your applications. Now try searching for a GSS code, enter <em>E06000045 </em>into the query box. You should see results for the <a href="http://data.ordnancesurvey.co.uk/id/7000000000037256">City of Southampton</a> returned. So far so straight forward. The search function also allows for wildcards in search, for example in the Query box type:</p>
<p><strong>label:Southa*</strong></p>
<p>It is also possible to narrow search results by type. Recall that the search for Southampton returned both Westminster constituencies and a unitary authority with Southampton in their name. To just find the Westminster constituencies search for the following:</p>
<p><strong>label:Southampton AND type:&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency" rel="nofollow">http://data.ordnancesurvey.co.uk/ontology/admingeo/WestminsterConstituency</a><strong><strong><strong><strong>&#8220;</strong></strong></strong></strong></strong></p>
<p>The search API also allows you to perform a number of simple spatial queries. The first of these are bounding box queries. For the Boundary-Line data you can specify a bounding box, and find all the administrative regions whose centroids lie within that bounding box. The bounding box can be expressed in eastings and northings. For example try the following:</p>
<p><strong>easting:[371000 TO 374000] AND northing:[161000 TO 164500]</strong></p>
<p>in the query box.</p>
<p>The answers can be narrowed down further by specifying the type of object that should be returned. For example to just get the civil parishes in this bounding box try the following:</p>
<p><strong>easting:[371000 TO 374000] AND northing:[161000 TO 164500] <strong>AND type:&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish" rel="nofollow">http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish</a><strong><strong><strong><strong>&#8220;</strong></strong></strong></strong></strong></strong></p>
<p>Another type of simple spatial query we can do in the search API is &#8216;find me all feature of a kind type within a certain radius of a given point&#8217;. Here the point can be specified in either lat/long or easting/northing. To find all of the civil parishes in a 50 km radius of the point with easting 442339 and northing 112882 put:</p>
<p><strong><strong>type:&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish" rel="nofollow">http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish</a><strong><strong>&#8220;</strong></strong></strong></strong></p>
<p>into the query box and put the appropriate values in the easting and northing boxes, followed by a 50 in the radio search box. If, for example, you want to perform this query again but find civil parishes and districts enter the following into the query box:</p>
<p><strong>type:&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish" rel="nofollow">http://data.ordnancesurvey.co.uk/ontology/admingeo/CivilParish</a><strong><strong><strong><strong>&#8220;</strong></strong></strong></strong> OR type:&#8221;<a href="http://data.ordnancesurvey.co.uk/ontology/admingeo/District" rel="nofollow">http://data.ordnancesurvey.co.uk/ontology/admingeo/District</a><strong><strong><strong><strong>&#8220;</strong></strong></strong></strong></strong></p>
<p>and try the query again.</p>
<p>These are just some simple examples of the search API. The full documentation is <a href="http://data.ordnancesurvey.co.uk/docs/search">here</a>.</p><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/johngoodwin225.wordpress.com/392/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/johngoodwin225.wordpress.com/392/" /></a> <img alt="" border="0" src="https://pixel.wp.com/b.gif?host=johngoodwin225.wordpress.com&#038;blog=4667458&#038;post=392&#038;subd=johngoodwin225&#038;ref=&#038;feed=1" width="1" height="1" />]]></content:encoded>
	</item>
</rdf:RDF>
