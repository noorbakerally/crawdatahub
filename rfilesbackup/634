<html version="XHTML+RDFa 1.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml http://www.w3.org/MarkUp/SCHEMA/xhtml-rdfa-2.xsd" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:xsd="http://www.w3.org/2001/XMLSchema#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:foaf="http://xmlns.com/foaf/0.1/">
<head data-color="#208780-#196963" profile="http://www.w3.org/1999/xhtml/vocab">
<title>Roviano &mdash; LodView</title>
				
<link href="/id/staticResources/style.css" rel="stylesheet" type="text/css" />
<script>
	document.write('<style type="text/css">');
	document.write('.c2{visibility:hidden}');
	document.write('</style>');
</script>
<meta http-equiv="x-ua-compatible" content="IE=Edge"/>
<script src="/id/staticResources/vendor/jquery.min.js"></script>
<meta property="og:title" content="Roviano &mdash; LodView, giving data a new shape">
<meta property="og:image" content="/id/staticResources/img/lodview_sharer.png">
<link rel="image_src" href="/id/staticResources/img/lodview_sharer.png">
<meta name="twitter:title" content="Roviano &mdash; LodView, giving data a new shape">
<meta name="twitter:description" content="LodView is a powerful RDF viewer, IRI dereferencer and opensource SPARQL navigator">
<link rel="icon" type="image/png" href="/id/staticResources/img/favicon.png">
<link href='//fonts.googleapis.com/css?family=Roboto:100,300,500&subset=latin-ext,latin,greek-ext,greek,cyrillic-ext,vietnamese,cyrillic' rel='stylesheet' type='text/css'>
<!-- managing maps  -->
<link rel="stylesheet" href="/id/staticResources/vendor/leaflet/leaflet.css" />
<script src="/id/staticResources/vendor/leaflet/leaflet.js"></script>
<link rel="canonical" href="http://dati.isprambiente.it/id/place/58092" >
<script src="/id/staticResources/vendor/masonry.pkgd.min.js"></script>
<script src="/id/staticResources/vendor/modernizr-custom.min.js"></script>


<style type="text/css">
hgroup, #linking a span,#audio .audio{
	background-color: #208780

}
header div#abstract, #loadPanel, div#lodCloud .connected div#counterBlock.content
	{
	background-color: #196963

}
#errorPage div#bnodes {
	color: #196963

}
div#loadPanel span.ok img {
	background-color: #208780
}
</style>
<script>
	var isRetina = window.devicePixelRatio > 1;
	var isChrome = /chrom(e|ium)/.test(navigator.userAgent.toLowerCase())
</script>





	
</head><body id="top">
	<article>
		<div id="logoBanner"> 
			<div id="logo">
				<!-- placeholder for logo -->
			</div>
		</div>
		<header>
			<hgroup>
				<h1><span>Roviano</span></h1>
				<h2>
					<a class="iri" href="http://dati.isprambiente.it/id/place/58092">http://dati.isprambiente.it/id/place/58092</a> <span class="istance"> 
							<a title="&lt;http://dati.isprambiente.it/ontology/core#GeoFeature&gt;" href="http://dati.isprambiente.it/ontology/core#GeoFeature" target="_blank" > 
									
					<span class="istanceOf">entità di tipo:</span> <span>GeoFeature</span>
					
					
					</a>
					
					</span>
					<div id="seeOnLodlive" class="sp">
						<a title="view resource on lodlive" target="_blank" href="http://lodlive.it?http://dati.isprambiente.it/id/place/58092"></a>
					</div>
				</h2>
			</hgroup> 
			
				
				
					<div id="abstract" class="empty"></div>
				
			
		</header>

		
			
				
<aside><span class="c1"></span><div id="widgets" class="c2"><div id="resourceMapCnt">
				<map name="resourceMap" id="resourceMap" class="sp"></map>
			</div><div id="linking">
				<a href="#lodCloud" title="data from the lod cloud"><span class="sp"></span></a>
			</div></div></aside>
			
			
		
		
		<div id="directs">
			
			
			
			
			

			
			
	
		<label class="c1"><a data-label="label" data-comment="A human-readable name for the subject." href="http://www.w3.org/2000/01/rdf-schema#label">
					
					rdfs:<span>label</span>
					
				</a></label>
		
		
		
			
				
			
		
		<div class="c2 value multiInLineBlock">
			
			
				
					
						<span class="multiInLine"> 
								
							 Roviano&#160;
						</span>
					
					
				

			
		</div>
	

	
		<label class="c1"><a data-label="latitude" data-comment="The WGS84 latitude of a SpatialThing (decimal degrees)." href="http://www.w3.org/2003/01/geo/wgs84_pos#lat">
					
					geo:<span>lat</span>
					
				</a></label>
		
		
		
			
				
					
					
				
			
		
		<div class="c2 value ">
			
			
				
					
					
						<div class="toMultiLine ">
							<div class="fixed">
								
								42.029697235555&#160;
							</div>
						</div>
					
				

			
		</div>
	

	
		<label class="c1"><a data-label="longitude" data-comment="The WGS84 longitude of a SpatialThing (decimal degrees)." href="http://www.w3.org/2003/01/geo/wgs84_pos#long">
					
					geo:<span>long</span>
					
				</a></label>
		
		
		
			
				
					
					
				
			
		
		<div class="c2 value ">
			
			
				
					
					
						<div class="toMultiLine ">
							<div class="fixed">
								
								12.9938812064149&#160;
							</div>
						</div>
					
				

			
		</div>
	

	
		<label class="c1"><a data-label="name" data-comment="The main international name of a feature. The value has no xml:lang tag." href="http://www.geonames.org/ontology#name">
					
					gn:<span>name</span>
					
				</a></label>
		
		
		
			
				
			
		
		<div class="c2 value multiInLineBlock">
			
			
				
					
						<span class="multiInLine"> 
								
							 Roviano&#160;
						</span>
					
					
				

			
		</div>
	

	
		<label class="c1"><a data-label="" data-comment="" href="http://datiopen.istat.it/odi/ontologia/territorio/haCodIstat">
					&lt;http://datiopen.istat.it/odi/ontologia/territorio/<span>haCodIstat</span>&gt;
					
				</a></label>
		
		
		
			
				
			
		
		<div class="c2 value multiInLineBlock">
			
			
				
					
						<span class="multiInLine"> 
								
							 058092&#160;
						</span>
					
					
				

			
		</div>
	

	
		<label class="c1"><a data-label="" data-comment="" href="http://www.opengis.net/ont/gml#polygon">
					&lt;http://www.opengis.net/ont/gml#<span>polygon</span>&gt;
					
				</a></label>
		
		
		
			
				
					
					
				
			
		
		<div class="c2 value ">
			
			
				
					
					
						<div class="toMultiLine ">
							<div class="fixed">
								
								42.0443314017819 13.0032244846174, 42.0431126551456 13.0030572326235, 42.0420772850566 13.0030540576464, 42.0403312127236 13.0048361850422, 42.0382593985765 13.004345039341, 42.0365247888154 13.0050263523676, 42.0356212264221 13.0047294614577, 42.0344684131458 13.0069269076379, 42.0326592243972 13.0095826834964, 42.0318771828083 13.0107306192685, 42.0307046726083 13.0110440046372, 42.0307029556324 13.0114786531155, 42.0296412467859 13.0115846797598, 42.0296055455105 13.0119613063173, 42.0284162186953 13.0130118232897, 42.0274761704403 13.0138863289462, 42.0256702490301 13.014159727852, 42.0240979637141 13.0143180466002, 42.0226398980657 13.0135287805512, 42.0202871881053 13.0118032580698, 42.0180790697385 13.0147017607528, 42.0180193227133 13.0147801973772, 42.0178693639315 13.0149770172171, 42.0172056198771 13.015848222035, 42.0166913664858 13.0174507432459, 42.0165637574885 13.0178483750525, 42.0156468190103 13.0174200337282, 42.0130202956865 13.0146072917111, 42.0121382196931 13.0133495962516, 42.0116809087955 13.0130378247257, 42.0116681767505 13.0116017463504, 42.0119615387851 13.0119665867163, 42.0122840991617 13.0118835059162, 42.0122707058892 13.0113410634945, 42.0124937263237 13.0109111705331, 42.0125341638563 13.0102700134427, 42.0124983924813 13.0096195613032, 42.0120919594661 13.0084967735012, 42.011684926043 13.0079059909451, 42.0116701622237 13.0075556701335, 42.0120212808552 13.0071710096825, 42.012184809857 13.0067428536965, 42.0122361000183 13.0059197677447, 42.0119724601049 13.00496144197, 42.0123425641019 13.004419506743, 42.0129727062764 13.0044236136158, 42.0135521375883 13.0039468931636, 42.0136274984256 13.0032075447575, 42.0139431322089 13.00267798949, 42.0147547829242 13.0022550491483, 42.0149688615454 13.0018875048443, 42.0149988322225 13.001827715206, 42.0149761694869 13.0009430460939, 42.0149736070363 13.0002425793574, 42.014623707284 12.999432753148, 42.0142311400453 12.99907080416, 42.0144586021561 12.9986164291962, 42.0150308213624 12.998345205261, 42.0159261507937 12.9973827781107, 42.0160590205449 12.9964891070252, 42.0161989876043 12.9958322600416, 42.0168347250183 12.9955468603536, 42.0174190797956 12.9954446433983, 42.0182899807556 12.9943543902434, 42.0186903907073 12.9942330649345, 42.0192384512826 12.9943964833925, 42.0196425561982 12.9942987834247, 42.0199984167488 12.9936471408084, 42.0205100764072 12.9924007178446, 42.0206762512044 12.9917658608803, 42.0214030452606 12.9909343868295, 42.0216680610971 12.9901478491205, 42.0217444841191 12.9899210542103, 42.0215531643443 12.9892630776882, 42.0213826106139 12.9886764924159, 42.0213892269057 12.9885674487579, 42.0214354277993 12.9878058102956, 42.0221531468801 12.9874929944141, 42.022690145249 12.9876736306605, 42.0227761414212 12.9877025573157, 42.0234533472455 12.9877781559153, 42.0236541337607 12.9873122144282, 42.0235374662401 12.9870167890716, 42.0233148538667 12.9864531980036, 42.0232208996599 12.9863073881864, 42.0228578006945 12.9857438188264, 42.0228293965843 12.9850069260312, 42.0231413207984 12.9845360341695, 42.0232950534504 12.9843039467676, 42.0241745032463 12.9836124842073, 42.0250574509077 12.9826902739179, 42.0250909202033 12.9825932127171, 42.0255936907319 12.9811347328856, 42.0256132137781 12.981078103908, 42.0259900191917 12.9793029933919, 42.0263572701368 12.9771536745076, 42.0265902192615 12.9764685225217, 42.0267683942094 12.9759444977431, 42.0272379967749 12.9755471831382, 42.0273028148808 12.975493032163, 42.0284475803531 12.9752990072532, 42.0293216310679 12.9746319397261, 42.0299074713683 12.973706852843, 42.0304284186125 12.9727778251209, 42.0306656857948 12.9723546749769, 42.0311796771045 12.9717718247101, 42.0313452156534 12.9715840953802, 42.0320204418753 12.9705475039191, 42.0327194731781 12.968303112851, 42.0326594160539 12.967296923791, 42.032653940622 12.9672052353045, 42.0323786861261 12.9663360617918, 42.0323746275647 12.966295615249, 42.0325490831934 12.9658403673332, 42.0328103002562 12.9651587238954, 42.0331750091102 12.9641639342346, 42.0332626901971 12.9639247308906, 42.0337512525637 12.9626063479558, 42.0338833915415 12.9622497903651, 42.0344906459166 12.9604418897129, 42.0351374403956 12.9594433847766, 42.0354281728482 12.9592876857928, 42.0358346594747 12.9590700198347, 42.0362948663197 12.9590113570384, 42.0364764036262 12.9589882326075, 42.0372035111573 12.9585428738681, 42.0376963564784 12.9579605190116, 42.0377529738883 12.9576250866877, 42.037809521175 12.9572911350997, 42.0376275888358 12.9570362659691, 42.0375729567796 12.9569601942263, 42.0373583528207 12.9566667104795, 42.0371510560729 12.9566727055751, 42.0370527308363 12.9567014764972, 42.0365507013235 12.9568482914693, 42.0360122306428 12.9569273129963, 42.0356745201725 12.956639003003, 42.0354673389491 12.9564312088913, 42.0361482332878 12.9557834921122, 42.03647374975 12.9560780287368, 42.0368618200242 12.9560523166214, 42.0377109725742 12.9557117673867, 42.0386726322024 12.9575893768961, 42.0387706960292 12.9580091851495, 42.0386888688299 12.9584230815008, 42.0384807691586 12.9589733212145, 42.0382632437216 12.9595358112093, 42.0380675435765 12.960508811191, 42.0382632294211 12.9630522719359, 42.0382602953874 12.9637881265315, 42.0379174997495 12.9647172498641, 42.0375929944374 12.965248141163, 42.0370322987468 12.966098741228, 42.0364847919931 12.9668286142951, 42.0361015914596 12.9674939581756, 42.0360648358774 12.9684255006749, 42.0361278758252 12.9690748577568, 42.0360635963715 12.9695011444674, 42.0362420289653 12.9703283298503, 42.0363996001126 12.9711081585173, 42.0363055867384 12.9718723004203, 42.0358842887654 12.9724665412573, 42.0356737236151 12.9729561751586, 42.0355018197036 12.9737592298339, 42.0355212943349 12.9750150748595, 42.0355917595583 12.9753445843847, 42.0356878651791 12.9757939589406, 42.0358909273245 12.9759100588276, 42.0363689635279 12.9756273550247, 42.0369133255002 12.9752491709546, 42.0374417083438 12.9754618219473, 42.0379656257568 12.9756734527704, 42.0378652612427 12.9761005113315, 42.0379071530896 12.9769690066462, 42.0381094302235 12.9781457556028, 42.0383883837659 12.9791883542778, 42.0391931660967 12.9805160054207, 42.0397787483399 12.9814147559769, 42.0401881639684 12.9821998428851, 42.041453902238 12.9839950266826, 42.0421520426358 12.9848925991549, 42.0426169825429 12.9849866142004, 42.0432291181316 12.9849909604602, 42.0452373861577 12.9865353383698, 42.0448731054929 12.9883351240078, 42.0446801624537 12.9914200281938, 42.0445174501315 12.9918258274354, 42.0442677940473 12.9924013807167, 42.044294760393 12.9949858776903, 42.0444843736057 12.9951004939195, 42.0444708919839 12.9958742522825, 42.0456769121786 12.9973097506868, 42.0453768524756 12.9998450842063, 42.0450276912727 12.9999160453707, 42.0443314017819 13.0032244846174&#160;
							</div>
						</div>
					
				

			
		</div>
	

			
			
			
	<label class="c1"><a data-label="type"  data-comment="The subject is an instance of a class." href="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
				
				rdf:<span>type</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://dati.isprambiente.it/ontology/core#GeoFeature&gt;" class=" " href="http://dati.isprambiente.it/ontology/core#GeoFeature" target="_blank" > 
						
						ispra:GeoFeature
					
				</a>
			</div>
		
	</div>

	<label class="c1"><a data-label="sameAs"  data-comment="The property that determines that two given individuals are equal." href="http://www.w3.org/2002/07/owl#sameAs">
				
				owl:<span>sameAs</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://dbpedia.org/resource/Roviano" target="_blank" > 
						
						dbpedia:Roviano
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://musicbrainz.org/area/f7727de1-77cc-42c9-a335-f7c7b592ff58#_&gt;" class="linkingElement " href="http://musicbrainz.org/area/f7727de1-77cc-42c9-a335-f7c7b592ff58#_" target="_blank" > 
						&lt;http://musicbrainz.org/area/f7727de1-77cc-42c9-a335-f7c7b592ff58#_&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://datiopen.istat.it/odi/risorsa/territorio/comuni/Roviano_58092&gt;" class="linkingElement " href="http://datiopen.istat.it/odi/risorsa/territorio/comuni/Roviano_58092" target="_blank" > 
						&lt;http://datiopen.istat.it/odi/risorsa/territorio/comuni/Roviano_58092&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://ja.dbpedia.org/resource/&#12525;&#12532;&#12451;&#12450;&#12540;&#12494;&gt;" class="linkingElement " href="http://ja.dbpedia.org/resource/&#12525;&#12532;&#12451;&#12450;&#12540;&#12494;" target="_blank" > 
						&lt;http://ja.dbpedia.org/resource/&#12525;&#12532;&#12451;&#12450;&#12540;&#12494;&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://ko.dbpedia.org/resource/&#47196;&#48708;&#50500;&#45432;&gt;" class="linkingElement " href="http://ko.dbpedia.org/resource/&#47196;&#48708;&#50500;&#45432;" target="_blank" > 
						&lt;http://ko.dbpedia.org/resource/&#47196;&#48708;&#50500;&#45432;&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://sws.geonames.org/6540525/&gt;" class="linkingElement " href="http://sws.geonames.org/6540525/" target="_blank" > 
						&lt;http://sws.geonames.org/6540525/&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://gadm.geovocab.org/id/3_30585&gt;" class="linkingElement " href="http://gadm.geovocab.org/id/3_30585" target="_blank" > 
						&lt;http://gadm.geovocab.org/id/3_30585&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://linkedgeodata.org/triplify/node72963272&gt;" class="linkingElement " href="http://linkedgeodata.org/triplify/node72963272" target="_blank" > 
						&lt;http://linkedgeodata.org/triplify/node72963272&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://rdf.freebase.com/ns/m.0gm86x&gt;" class="linkingElement " href="http://rdf.freebase.com/ns/m.0gm86x" target="_blank" > 
						&lt;http://rdf.freebase.com/ns/m.0gm86x&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://wikidata.org/entity/Q243271&gt;" class="linkingElement " href="http://wikidata.org/entity/Q243271" target="_blank" > 
						&lt;http://wikidata.org/entity/Q243271&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://yago-knowledge.org/resource/Roviano&gt;" class="linkingElement " href="http://yago-knowledge.org/resource/Roviano" target="_blank" > 
						&lt;http://yago-knowledge.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://de.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://de.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://de.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://es.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://es.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://es.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://fr.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://fr.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://fr.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://it.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://it.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://it.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://nl.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://nl.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://nl.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://pl.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://pl.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://pl.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
			<div class="toOneLine">
				<a title="&lt;http://pt.dbpedia.org/resource/Roviano&gt;" class="linkingElement " href="http://pt.dbpedia.org/resource/Roviano" target="_blank" > 
						&lt;http://pt.dbpedia.org/resource/Roviano&gt;
						
					
				</a>
			</div>
		
	</div>

	<label class="c1"><a data-label="feature class"  data-comment="The main category of the feature, as defined in geonames taxonomy." href="http://www.geonames.org/ontology#featureClass">
				
				gn:<span>featureClass</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://www.geonames.org/ontology#A&gt;" class=" " href="http://www.geonames.org/ontology#A" target="_blank" > 
						
						gn:A
					
				</a>
			</div>
		
	</div>

	<label class="c1"><a data-label="feature code"  data-comment="Type of the feature, as defined in geonames taxonomy." href="http://www.geonames.org/ontology#featureCode">
				
				gn:<span>featureCode</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://www.geonames.org/ontology#A.ADM3&gt;" class=" " href="http://www.geonames.org/ontology#A.ADM3" target="_blank" > 
						
						gn:A.ADM3
					
				</a>
			</div>
		
	</div>

	<label class="c1"><a data-label="level 1 administrative parent"  data-comment="" href="http://www.geonames.org/ontology#parentADM1">
				
				gn:<span>parentADM1</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://dati.isprambiente.it/id/place/lazio&gt;" class=" isLocal" href="/id/place/lazio" > 
						&lt;http://dati.isprambiente.it/id/place/lazio&gt;
						
					
				</a>
			</div>
		
	</div>

	<label class="c1"><a data-label="level 2 administrative parent"  data-comment="" href="http://www.geonames.org/ontology#parentADM2">
				
				gn:<span>parentADM2</span>
				
			</a></label>
	<div class="c2 value">
		
			<div class="toOneLine">
				<a title="&lt;http://dati.isprambiente.it/id/place/roma&gt;" class=" isLocal" href="/id/place/roma" > 
						&lt;http://dati.isprambiente.it/id/place/roma&gt;
						
					
				</a>
			</div>
		
	</div>

			
			
			

		</div>
		
			
			
				<div id="bnodes" class="empty"></div>
			
		
		
		
		<div id="inverses" class="empty"></div>
		<div id="lodCloud">
			<h3>
				risorse dalla linked data cloud
			</h3>
			<div class="masonry"></div>
		</div>
	<!-- a custom space located before the footer -->
<div id="customFooter">
	<div class="c1">
		<h3>DATA</h3>
	</div>
	<div class="c2">
		<menu>
			
				<li><a  href="http://dati.isprambiente.it/sparql"><span>Endpoint</span></a></li>
			
				<li><a  href="http://dati.isprambiente.it/ontologie-e-thesauri/"><span>Ontologie</span></a></li>
			
				<li><a  href="http://dati.isprambiente.it/accesso-ai-dati/"><span>Dati</span></a></li>
			
		</menu>
	</div>
	<div id="credits">
		<div>
			
				
					<a href="http://www.isprambiente.gov.it/it" class="ispra" title="ISPRA"></a>
				
			
				
					<a href="http://dati.isprambiente.it/" class="opendataispra" title="OpenData ISPRA"></a>
				
			
		</div>
	</div>
</div>
	</article>
	<footer>
	<div id="download">
		<a href="http://lodview.it" id="linkBack"></a>
		<a href="https://github.com/dvcama/LodView" id="linkGit" target="_blank" title="based on LodView v1.2.1-SNAPSHOT">scarica lodview per pubblicare i tuoi dati</a>
	</div>
	<div id="endpoint">
		<ul>
			
				
				
					<li>dati da: <a href="http://dati.isprambiente.it/sparql/">http://dati.isprambiente.it/sparql/</a></li>
				
			
			<li><a target="_blank" href="http://lodlive.it?http://dati.isprambiente.it/id/place/58092">visualizza su LodLive</a></li>
			
				<li class="viewas"><span>rdf:</span> 
					
					
						<a href="?output=application%2Frdf%2Bxml">xml</a>, 
					
						<a href="?output=text%2Fplain">ntriples</a>, 
					
						<a href="?output=text%2Fturtle">turtle</a>, 
					
						<a href="?output=application%2Frdf%2Bjson">json</a>, 
					
						<a href="?output=application%2Fld%2Bjson">ld+json</a>
					
				</li>
			
				<li class="viewas"><span>odata:</span> 
					
					
						<a href="http://dati.isprambiente.it/sparql/?output=application%2Fatom%2Bxml&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">atom</a>, 
					
						<a href="http://dati.isprambiente.it/sparql/?output=application%2Fodata%2Bjson&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">json</a>
					
				</li>
			
				<li class="viewas"><span>microdata:</span> 
					
					
						<a href="http://dati.isprambiente.it/sparql/?output=text%2Fhtml&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">html</a>, 
					
						<a href="http://dati.isprambiente.it/sparql/?output=application%2Fmicrodata%2Bjson&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">json</a>
					
				</li>
			
				<li class="viewas"><span>rawdata:</span> 
					
					
						<a href="http://dati.isprambiente.it/sparql/?output=text%2Fcsv&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">csv</a>, 
					
						<a href="http://dati.isprambiente.it/sparql/?output=format=text%2Fcxml&amp;query=DESCRIBE+%3Chttp://dati.isprambiente.it/id/place/58092%3E">cxml</a>
					
				</li>
			
		</ul>
	</div>
</footer>

	<div id="license">
		<div>Licensed under <a href='https://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 International</a> (CC BY 4.0)</div>
	</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75280673-1', 'auto');
  ga('send', 'pageview');

</script>

	
<script>
	var col1 = 0;
	var col3 = 0;
	var paginator = {
		"inizio pagina" : $('body'),
		"relazioni dirette" : null,
		"blank nodes" : null,
		"relazioni inverse" : null,
		"risorse dalla linked data cloud" : null
	};

	$('#logo').click(function() {
		document.location = 'http://dati.isprambiente.it/id/website';
	});

	var callingPage = null;
	var callingPageTitles = null;
	$(function() {

		/* error images */
		lodview.setErrorImage($('#widgets').find('img'));

		/* improving interface */
		lodview.setColumnsSize();
		lodview.betterHeader();
		$(window).on('resize', function() {
			lodview.betterHeader();
			var img = $('body').find('img.hover');
			if (img.length > 0)
				lodview.zoomHelper(img);
			var map = $('body').find('#maphover');
			if (map.length > 0)
				lodview.zoomHelper($('body').find('.maphover'), map, true);
		});
		lodview.betterTypes();
		
		
		lodview.imagesInWidget();
		lodview.mapInWidget();
		$(document).keyup(function(e) {
			if (e.keyCode === 27) {
				//close fullscreen images and maps
				lodview.closeFull();
			}
		});
		/* adding info tooltips */
		lodview.infoTooltip('init');

		/* footer functions */
		lodview.footer();

		/* managing languages */
		lodview.multiLabels();

		/* recovering connected titles from relations */
		lodview.connectedResourceTitles();

		/* navigation tool */
		lodview.rNavigator();

		/* grabbing informations from the LOD cloud */
		lodview.grabData();

		$(window).on('load', function() {
			/* removing lodCloud block if empty */
			if ($('.linkingElement').length > 0) {
				paginator["risorse dalla linked data cloud"] = $('#lodCloud');
			}
			if ($('#directs').children(":first").length == 0) {
				$('#directs').addClass("empty");
			} else {
				paginator["relazioni dirette"] = $('#directs');
			}
			if ($('#bnodes').not('.empty').length > 0) {
				paginator["blank nodes"] = $('#bnodes');
			}
			lodview.imagesInWidget(true);
		});
	});

	var lodview = {
		zoomHelper : function(img, obj, alignLeft,ow,oh) {
			var l = this;
			if (alignLeft) {
				var ww = window.innerWidth;
				var wh = window.innerHeight;
				if (obj) {
					obj.css({
						width : ww - 70,
						height : wh
					});
				}
				img.css({
					width : ww - 70,
					height : wh,
					opacity : 0,
					left : 0,
					top : 0
				});
			} else {
				var ww = window.innerWidth - 100;
				var wh = window.innerHeight - 100;

				var w = ww;
				var h = wh;

				try { 
					w = ow?ow:img.naturalWidth();
					h = oh?oh:img.naturalHeight();
				} catch (e) {
				}
				if (!w) {
					w = ww;
				}
				if (!h) {
					h = wh;
				}
				// image bigger than the window
				if (w > ww) {
					h = ww * h / w;
					w = ww;
				}
				if (h > wh) {
					w = wh * w / h;
					h = wh;
				}
				if (obj) {
					obj.css({
						width : w,
						height : h
					});
				}
				img.css({
					width : w,
					height : h,
					opacity : 0,
					left : '50%',
					top : '50%',
					marginLeft : -(w / 2),
					marginTop : -(h / 2)
				});
			}
			img.fadeTo(300, 1);
		},
		betterTypes:function(){
			$('.dType').each(function() {
				var w = $(this).width();
				$(this).closest('div.c2').css({
					paddingRight : w + 7
				})
			});
		},
		drawMap : function drawMap(id, lat, lon, testoPopup, fullVersion) {
			var map = null;
			if (fullVersion) {
				var map = L.map(id).setView([ lat, lon ], 8);
				L.marker([ lat, lon ]).addTo(map).bindPopup(testoPopup).openPopup();
			} else {
				map = L.map(id, {
					scrollWheelZoom : false,
					zoomControl : false
				}).setView([ lat, lon ], 3);
				L.marker([ lat, lon ]).addTo(map);
			}
			L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
				attribution : '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
			}).addTo(map);
		},
		mapInWidget : function(forceLoad) {
			if ($('map').length > 0) {
				var l = this;
				l.drawMap("resourceMap", '42.029697235555', '12.9938812064149');
				var a = $('#resourceMap');
				var w = a.width();
				var h = a.height();
				var tools = $('<div class="imgTools" style="width:' + w + 'px;height:' + h + 'px;"></div>')
				var zoom = $('<span class="zoom sp" style="margin-top:' + (h / 2 - 15) + 'px;margin-left:' + (w / 2 - 15) + 'px;"></span>');
				tools.append(zoom);
				zoom.click(function() {
					l.fullMap('42.029697235555', '12.9938812064149', 'Roviano');
				});
				a.prepend(tools);
				a.hover(function() {
					$(this).find('.imgTools').stop().fadeIn('fast');
				}, function() {
					$(this).find('.imgTools').stop().fadeOut('fast');
				});
			}
		},
		imagesInWidget : function(forceLoad) {
			var l = this;
			if (forceLoad) {
				$('#widgets>div#images>a>img').load();
			} else {
				$('#widgets>div#images>a>img').load(function() {
					var w = $(this).width();
					var h = $(this).height();
					$(this).parent().animate({
						minWidth : w
					}, 'slow', 'swing');
					var a = $(this).parent();
					var anchor = a.attr("href");
					if (anchor) {
						var tools = $('<div class="imgTools" style="width:' + w + 'px;height:' + h + 'px;"></div>')
						var zoom = $('<span class="zoom sp" style="margin-left:' + (w / 2 - 15) + 'px;"></span>');
						var open = $('<span class="open sp" style="margin-top:' + (h / 2 - 15 - 19) + 'px;margin-left:' + (w / 2 - 7) + 'px;"></span>');
						tools.append(open);
						tools.append(zoom);
						open.click(function() {
							window.open($(this).parent().attr("data-href"));
						});
						zoom.click(function() {
						var aImg = $(this).parent().parent().find('img');
						l.fullImg(aImg.clone(true),aImg.naturalWidth(),aImg.naturalHeight());
						});
						tools.attr("data-href", anchor);
						a.removeAttr("href");
						a.css({
							'cursor' : 'default'
						});
						a.prepend(tools);
						a.hover(function() {
							$(this).find('.imgTools').stop().fadeIn('fast');
						}, function() {
							$(this).find('.imgTools').stop().fadeOut('fast');
						});
					}
				});
			}
		},
		closeFull : function() {
			$('body').find('div.hover').fadeOut(350, function() {
				$(this).remove()
			});
			$('body').find('#maphover').fadeOut(200, function() {
				$(this).remove()
			});
			$('body').find('img.hover').fadeOut(200, function() {
				$(this).remove()
			})
		},
		fullMap : function(lat, lon, testoPopup) {
			var l = this;
			$('body').find('.hover').remove();
			var layer = $('<div id="hover" class="hover"></div>');
			var map = $('<div class="hover maphover"><div  id="maphover"></div><div class="closemapzoom sp"></div></div>');
			layer.click(function() {
				l.closeFull();
			});
			map.find('.closemapzoom').click(function() {
				l.closeFull();
			});
			$('body').append(layer);
			$('body').append(map);
			l.zoomHelper(map, $('#maphover'), true);
			layer.fadeIn(300, function() {
				l.drawMap("maphover", lat, lon, testoPopup, true);
			});
		},
		fullImg : function(img,w,h) {
			var l = this;
			img.addClass('hover');
			$('body').find('.hover').remove();
			var layer = $('<div id="hover" class="hover"></div>');
			layer.click(function() {
				l.closeFull();
			});
			img.click(function() {
				l.closeFull();
			});
			$('body').append(layer);
			layer.fadeIn(300, function() {
				$('body').append(img);
				img.show();
				img.fadeTo(0, 0);
				l.zoomHelper(img,null,null,w,h);
			});
		},
		betterHeader : function() {
			var IRI = $('h2>.iri');
			var istance = $('h2>.istance');
			var istsize = 0;
			istance.find('a').each(function() {
				istsize += $(this).width();
			});
			if (window.innerWidth - IRI.width() - istsize < 250) {
				istance.css({
					"float" : "none",
					"text-align" : "left",
					"display" : "block"
				});
			} else {
				istance.css({
					"float" : "right",
					"text-align" : "right",
					"display" : "inline-block"
				});
			}
		},
		connectedResourceTitles : function() {
			var l = this;
			l.lMessage("seguo le relazioni inverse", 'open');
			var abouts = [];
			$('a.isLocal').each(function() {
				var a = $(this).attr('title').replace(/[><]/g, '');
				if ($.inArray(a, abouts) == -1) {
					abouts.push(a);
				}
			});
			if (abouts.length > 0) {
				$('#lconnected').fadeIn('fast');
				l.doConnectedResourceTitles(abouts, function() {
					l.getInverses()
				});
			} else {
				l.getInverses();
			}
		},
		doConnectedResourceTitles : function(abouts, onComplete) {
			return $.ajax({
				url : "/id/linkedResourceTitles",
				data : {
					"abouts" : abouts,
					"IRI" : "http://dati.isprambiente.it/id/place/58092",
					"sparql" : "http://dati.isprambiente.it/sparql/",
					"prefix" : "http://dati.isprambiente.it/id/"
				},
				method : 'POST',
				beforeSend : function() {

				},
				success : function(data) {
					data = $(data);
					data.find('resource').each(function() {
						var IRI = $(this).attr("about");
						var title = $(this).find("title").text();
						$('a.isLocal[title="<' + IRI + '>"]').each(function() {
							if ($(this).find('tt').length == 0) {
								$(this).append("<br><span class='derivedTitle'><tt class=\"sp\"></tt>" + title + "</span>");
							}
						})
					});
				},
				error : function(e) {
					/* TODO: manage errors */
				},
				complete : function() {
					/* inverse relations */
					if (onComplete) {
						onComplete();
					}
				}
			});
		},
		multiLabels : function() {
			var l = this;
			var cLocale = 'it';
			$('.value').each(function() {
				var cnt = $(this);
				var multipleLang = false;
				var plang = "";
				$('.lang', cnt).each(function() {
					var lang = $(this).attr("data-lang");
					if (lang != plang && plang != '') {
						multipleLang = true;
					}
					plang = lang;
				});
				if (multipleLang) {
					$('.lang', cnt).each(function() {
						var lang = $(this).attr("data-lang");
						if ($.trim(lang) && cnt.find("span.clang." + lang).length == 0) {
							var clang = $("<span class=\"clang " + lang + "\">" + lang + "</span>");
							clang.click(function() {
								var lang = $(this).text();
								$(this).parent().children('div').hide();
								$(this).parent().children('div.lang.' + lang).show();
								$(this).parent().children('span.clang').removeClass('sel');
								$(this).addClass('sel');
							});
							cnt.find("div:first").before(clang);
						}
					});
					cnt.find('.clang').sort(function(a, b) {
						var contentA = $(a).text();
						var contentB = $(b).text();
						return (contentA < contentB) ? -1 : (contentA > contentB) ? 1 : 0;
					}).prependTo(cnt);

					var btt = cnt.children('span.clang.' + cLocale);
					if (btt.length == 0) {
						btt = cnt.children('span.clang.en'); // fallback to
						// english
					}
					if (btt.length == 0) {
						btt = cnt.children('span.clang:first');
					}
					btt.click();
				} else {
					$('.lang', cnt).each(function() {
						var lang = $(this).attr("data-lang");
						if ($.trim(lang)) {
							var a = $(this);
							if (a.find("div.fixed").length > 0) {
								a = a.find(".fixed");
							}
							a.append("<span class=\"elang\">@" + lang + "</span>");
						}
						$(this).removeClass('lang');
					});
				}
			});
		},
		infoTooltip : function(act, obj) {
			var l = this;
			if (act === 'init') {
				$('[data-label]').each(function() {
					if ($(this).attr('data-label')) {
						var iph = $('<span class="iph"></span>');
						$(this).before(iph);
						$(this).parent().hover(function() {
							l.infoTooltip('showInfoPoint', $(this));
						}, function() {
							l.infoTooltip('remove', $(this));
						});
						/*
						 * $(this).parent().on('mousemove', function() {
						 * l.infoTooltip('checkInfoPoint', $(this)); });
						 */
					}
				});
			} else if (act === 'checkInfoPoint') {
				if (obj.find('i').length == 0) {
					var i = $('<span class="i"><span class="sp"></span></span>');
					obj.prepend(i);
					i.hover(function() {
						l.infoTooltip('show', obj);
					}, function() {
						l.infoTooltip('remove', obj);
					});
				}
			} else if (act === 'showInfoPoint') {
				var i = $('<span class="i"><span class="sp"></span></span>');
				obj.prepend(i);
				i.show();
				i.hover(function() {
					l.infoTooltip('show', obj);
				}, function() {
					l.infoTooltip('remove', obj);
				});
			} else if (act === 'show') {
				var data = obj.children('[data-label]');
				var t = $('<div class="tooltip" style="display:block;visibility:hidden"><strong>' + data.attr("data-label") + '</strong>' + (data.attr("data-comment") ? '<br />' + data.attr("data-comment") : '') + '</div>');
				obj.prepend(t);
				var th = obj.position().top - $(window).scrollTop() + t.height();
				var wh = window.innerHeight - 50;
				if (th > wh) {
					t.css({
						marginTop : '-' + (t.height() + 23) + 'px'
					});
				}
				t.css({
					display : 'none',
					visibility : 'visible'
				});

				t.show();
			} else if (act === 'remove') {
				var p = obj.parent();
				p.find('.tooltip').fadeOut('fast', function() {
					$(this).remove();
				});
				p.find('.i').fadeOut('fast', function() {
					$(this).remove();
				});
			}
		},
		getInverses : function() {
			var l = this;
			l.lMessage("carico i titoli delle risorse collegate");
			var invCont = $('#inverses');
			var iri = "http://dati.isprambiente.it/id/place/58092";
			if (iri) {
				$('#linverse').delay(100).fadeIn('fast');
				$.ajax({
					url : "/id/linkedResourceInverses",
					method : 'POST',
					data : {
						"IRI" : iri,
						"sparql" : "http://dati.isprambiente.it/sparql/",
						"prefix" : "http://dati.isprambiente.it/id/"
					},
					beforeSend : function() {

					},
					success : function(data) {
						data = $(data);

						if (data.find('resource').length > 0) {
							invCont.removeClass("empty");
							invCont.append($("<h3>relazioni inverse</h3>"));
							paginator["relazioni inverse"] = invCont;
						}
						data.find('resource').each(function() {

							var IRI = $(this).attr("nsabout");
							if (IRI.indexOf("null:") == 0) {
								IRI = '&lt;' + $(this).attr("about").replace(/(http:\/\/.+[/#])([^/#]+)$/, '$1<span>$2') + "</span>&gt;";
							} else {
								IRI = IRI.replace(/:/, ':<span>') + '</span>';
							}
							var count = $(this).find("count").text();
							var msg = "è {0} di";
							// TODO: add link!
							msg = msg.replace(/\{0\}/, "<a data-comment=\"" + $(this).attr("propertycomment") + "\"  data-label=\"" + $(this).attr("propertylabel") + "\" title=\"&lt;" + $(this).attr("about") + "&gt;\">" + IRI);

							var el = $("<label class=\"c1\" title=\"" + $(this).attr("about") + "\">" + msg + "</label>");
							var anchor = $("<a href=\"#openIt\" data-property=\"" + $(this).attr("about") + "\">" + count + " " + (count == 1 ? "risorsa" : "risorse") + "</a>");
							anchor.click(function() {
								if (anchor.parent().hasClass('isOpened')) {
									anchor.parent().find('.toOneLine,.prevArrow,.nextArrow,.lloadingb').remove();
									anchor.parent().removeClass('isOpened');
									anchor.parent().removeClass('opened');
								} else {
									var property = $(this).attr('data-property');
									var contInverse = $(this).parent();
									anchor.parent().addClass("isOpened");
									var start = 0;
									$.ajax({
										url : "/id/linkedResourceInverses",
										method : 'POST',
										data : {
											"start" : start,
											"IRI" : "http://dati.isprambiente.it/id/place/58092",
											"property" : property,
											"sparql" : "http://dati.isprambiente.it/sparql/",
											"prefix" : "http://dati.isprambiente.it/id/"
										},
										beforeSend : function() {
											anchor.parent().find('.toOneLine,.prevArrow,.nextArrow,.lloadingb').remove();
											anchor.after("<span class=\"lloadingb\"></span>");
										},
										success : function(data) {
											data = $(data);
											var abouts = [];
											data.find('resource').each(function() {
												var IRI = $(this).attr("nsabout");
												if (IRI.indexOf("null:") == 0) {
													IRI = '&lt;' + $(this).attr("about") + "&gt;";
												}
												if (IRI.indexOf(":") == -1) {
													IRI = "_:" + $(this).attr("about");
												}
												var title = $(this).find("title").text();
												var url = $(this).attr("propertyurl")
												contInverse.append($("<div class='toOneLine' style='display:none'> <a title=\"&lt;" + $(this).attr("about") + "&gt;\" href=\"" + url + "\" class=\"isLocal\">" + IRI + "</a></div>"));
												abouts.push($(this).attr("about"));
											});
											$('.toOneLine', contInverse).show();
											if (count > 10) {
												anchor.parent().addClass("opened");
											}
											if (abouts.length > 0) {
												l.doConnectedResourceTitles(abouts, function() {
													anchor.parent().find('.lloadingb').hide();
												});
											} else {
												anchor.parent().find('.lloadingb').hide();
											}
										},
										complete : function() {
											if (count > 10) {
												var prev = $('<a href="#prev" class="prevArrow sp"></a>');
												var next = $('<a href="#next" class="nextArrow sp"></a>');
												prev.css({
													'opacity' : '0.3',
													'cursor' : 'default'
												});
												next.click(function() {
													return l.paginating('next', $(this), start, property, count);
												});
												anchor.after(next);
												anchor.after(prev);
											}

										},
										error : function() {
											contInverse.append($("<div class='toOneLine' >sorry, an error occurred</div>"));
										}

									});
								}
								return false;
							});
							invCont.append(el);
							var value = $("<div class=\"c2 value\"></div>");
							value.append(anchor);
							invCont.append(value);
							if ("open" == "close") {
								anchor.click();
							}
						});
						l.setColumnsSize(true);
						$('#linverse').append('<span class="ok"><img src="/id/staticResources/img/checked' + (isRetina ? '@2x' : '') + '.png" ></span>').find('img').fadeIn('fast');
					},
					error : function(e) {
						$('#linverse').append('<span class="error"></span>');
					},
					complete : function() {
						l.lMessage(null, 'close');
					}
				});
			}

		},
		paginating : function(direction, anchor, start, property, count) {
			var l = this;
			if (direction == 'next') {
				start = start + 10;
			} else if (start > 0) {
				start = start - 10;
			}
			var contInverse = anchor.parent();
			if (callingPage) {
				callingPage.abort();
			}
			if (callingPageTitles) {
				callingPageTitles.abort();
			}
			callingPage = $.ajax({
				url : "/id/linkedResourceInverses",
				method : 'POST',
				data : {
					"start" : start,
					"IRI" : "http://dati.isprambiente.it/id/place/58092",
					"property" : property,
					"sparql" : "http://dati.isprambiente.it/sparql/",
					"prefix" : "http://dati.isprambiente.it/id/"
				},
				beforeSend : function() {
					contInverse.find('.toOneLine').addClass('toRemove').css({
						'opacity' : 0.2
					});
					contInverse.find('.prevArrow,.nextArrow').remove();
					contInverse.find('.lloadingb').show();
					var prev = $('<a href="#prev" class="prevArrow sp"></a>');
					var next = $('<a href="#next" class="nextArrow sp"></a>');
					if (start + 10 > count) {
						next.css({
							'opacity' : '0.3',
							'cursor' : 'default'
						});
					} else {
						next.click(function() {
							return l.paginating('next', $(this), start, property, count);
						});
					}
					if (start > 0) {
						prev.click(function() {
							return l.paginating('prev', $(this), start, property, count);
						});
					} else {
						prev.css({
							'opacity' : '0.3',
							'cursor' : 'default'
						});
					}
					contInverse.find('a:first').after(next);
					contInverse.find('a:first').after(prev);
				},
				success : function(data) {
					data = $(data);
					var abouts = [];
					data.find('resource').each(function() {
						var IRI = $(this).attr("nsabout");
						if (IRI.indexOf("null:") == 0) {
							IRI = '&lt;' + $(this).attr("about") + "&gt;";
						}
						if (IRI.indexOf(":") == -1) {
							IRI = "_:" + $(this).attr("about");
						}
						var title = $(this).find("title").text();
						var url = $(this).attr("propertyurl")
						contInverse.append($("<div class='toOneLine' style='display:none'> <a title=\"&lt;" + $(this).attr("about") + "&gt;\" href=\"" + url + "\" class=\"isLocal\">" + IRI + "</a></div>"));
						abouts.push($(this).attr("about"));
					});

					if (abouts.length > 0) {
						callingPageTitles = l.doConnectedResourceTitles(abouts, function() {
							contInverse.find('.toOneLine.toRemove').remove();
							$('.toOneLine', contInverse).show();
							contInverse.find('.lloadingb').hide();
						});
					} else {
						contInverse.find('.toOneLine.toRemove').remove();
						$('.toOneLine', contInverse).show();
						contInverse.find('.lloadingb').hide();
					}
					anchor.unbind('click');
				},
				complete : function() {
				},
				error : function() {
					contInverse.find('.toOneLine').remove();
					contInverse.append($("<div class='toOneLine' >sorry, an error occurred</div>"));
				}
			});
			return false;
		},
		grabData : function() {
			var l = this;
			var linkingList = [];
			var counter = 0;
			var errors = 0;
			var map = $('map:first');
			$('.linkingElement').each(function() {
				var link = $.trim($(this).attr("href"));
				linkingList.push(link);
			});

			/* lod cloud */
			if (linkingList.length == 0) {
				$('#lodCloud').empty();
				$('#lodCloud').addClass("empty");
				$('#linking').hide();
			} else {
				$('#linking').fadeIn('fast');
				var container = $('#lodCloud').children("div");
				var dest = $('<div class="connected"><span class="lloading"></span></div>');
				var content = $("<div class=\"content\" id='counterBlock'></div>");

				content.append("<p id='grabDataTotal'>risorse connesse \u003Cstrong\u003E0\u003C\/strong\u003E</p>")
				content.append("<p id='grabDataTotalErrors'>risorse non online \u003Cstrong\u003E0\u003C\/strong\u003E</p>")
				content.append("<p id='grabDataTotalLoaded'>risorse caricate \u003Cstrong\u003E0\u003C\/strong\u003E</p>")

				dest.append(content);
				container.append(dest);

				// initialize
				container.masonry({
					itemSelector : '.connected'
				});

				l.updateCounter(linkingList.length, counter, errors);
				l.grabSingleResource(linkingList, counter, errors, map);
			}
		},
		grabSingleResource : function(linkingList, counter, errors, map) {
			var l = this;
			if (counter < linkingList.length) {
				var linking = $('#lodCloud').children("div");
				$.ajax({
					url : "/id/linkedResource",
					method : 'POST',
					timeout : 10000, // 5 sec.
					data : {
						"IRI" : linkingList[counter]
					},
					beforeSend : function() {
						// console.debug(counter + " -- " + linkingList[counter])
					},
					success : function(data) {
						data = $(data);
						var dest = $('<div class="connected"></div>');
						data.find('img:first').each(function() {
							dest.append("<span class=\"imgCnt sp\"><img class=\"main\" src=\"" + $(this).attr("src") + "\"></span>");
						});
						var title = (data.find('title').text() != 'null' ? data.find('title').text() : "");

						if (data.find('img:first').length == 0 && data.find('longitude').text().replace(/null/, '') && data.find('latitude').text().replace(/null/, '')) {
							var id = new Date().getMilliseconds();
							var map = $('<map  id="inlodMap' + id + '" class="inLodMap sp"></map>');
							dest.append(map);
						}

						l.setErrorImage(dest.find('img'));

						var content = $("<div class=\"content\"></div>");
						content.append("<h5>" + title + "</h5>");

						var IRI = data.find('root').attr('about');
						content.append("<a class=\"link\" target=\"_blank\" href=\"" + IRI + "\">" + IRI.replace(/([^a-zA-Z0-9])/g, '$1&#8203;') + "</a>");
						if ($.trim(data.find('description').text())) {
							var descr = data.find('description').text() + " @" + data.find('description').attr("lang");
							descr = descr.replace(/@(null|)$/, '');
							content.append("<div>" + descr + "</div>");
						}
						dest.append(content);

						var tot = data.find('links').attr("tot");
						if (parseInt(tot, 10) > 0) {
							dest.append("<div class=\"more\">" + tot + " " + (tot == 1 ? "risorsa connessa" : "risorse connesse") + "</div>")
						}
						dest.find('img').on('load', function() {
							linking.masonry();
						}).each(function() {
							if (this.complete) {
								$(this).load();
							}
						});
						counter++;
						if (!data.find('root').attr('error')) {
							linking.masonry().append(dest).masonry('appended', dest);
							if (dest.find('map').length > 0) {
								l.drawMap(dest.find('map').attr("id"), data.find('latitude').text(), data.find('longitude').text(), title);
							}
							data.find('link').each(function() {
								var a = $(this).attr("href");
								if ($.inArray(a, linkingList) == -1 && a != "http://dati.isprambiente.it/id/place/58092") {
									linkingList.push(a);
								}
							});
						} else {
							errors++;
						}
						linking.masonry();
						l.grabSingleResource(linkingList, counter, errors, map);
						l.updateCounter(linkingList.length, counter, errors);
					},
					error : function(e) {
						l.updateCounter(linkingList.length, (counter + 1), (errors + 1));
						l.grabSingleResource(linkingList, (counter + 1), (errors + 1), map);
					},
					complete : function() {
					}
				});
			} else {
				$('.connected').find('.lloading').fadeOut();
			}
		},
		lMessage : function(msg, action) {
			var l = this;
			var lp = $('#loadPanel');
			if (action) {
				if (action == 'open') {
					if (isChrome) {
						// moving the panel to the center of the page
						lp.addClass("cfix");
					}
					lp.fadeIn('fast');
				} else {
					lp.delay(2000).fadeOut('fast');
				}
			}
			if (msg) {
				lp.queue(function() {
					setTimeout(function() {
						lp.find('.content').remove();
						lp.find('#lmessage').append("<span class=\"content\">" + msg + "</span>");
						lp.dequeue();
					}, action == 'open' ? 0 : 2000);
				});
			}
		},
		slideNext : function(obj) {
			var l = this;
			obj.next().slideDown('fast', function() {
				l.slideNext($(this));
			});
		},
		updateCounter : function(tot, count, errors) {
			var g = $('#lmessage > .content');
			g.children('strong').html(count);
			g.children('span:last').html(tot);
			var b = $('#counterBlock');
			b.find('p#grabDataTotal > strong').html(tot);
			b.find('p#grabDataTotalLoaded > strong').html(count - errors);
			b.find('p#grabDataTotalErrors > strong').html(errors);
		},
		footer : function() {
			$('#endpoint').find('.viewas').find('a').click(function() {
				var loc = document.location.href;
				loc = loc.replace(/#[^#]+/, '');
				if (loc.indexOf("?") != -1) {
					loc += "&output=" + $(this).attr("title");
				} else {
					loc += "?output=" + $(this).attr("title");
				}
				document.location = loc;
			});
		},
		setErrorImage : function(obj) {
			obj.error(function() {
				$(this).attr("title", "immagine non disponibile, URL errata?\n" + $(this).attr("src"));
				$(this).attr("src", "/id/staticResources/img/no_image" + (isRetina ? "@2x" : "") + ".png");
				$(this).addClass("errorImg");
				$(this).unwrap("a");
			});
		},
		rNavigator : function() {
			var l = this;
			$('#navigator').find('.top').hover(function() {
				var e = $(this);
				if (window.scrollY > 0) {
					e.addClass('hover');
					var a = $('<a href="#top"></a>');
					a.click(function() {
						$('body').scrollTo(0, {}, function() {
							a.parent().trigger('mouseleave');
							a.parent().trigger('mouseenter');
						});
						return false;
					});
					e.prepend(a);
					e.prepend("<span>inizio pagina</span>");
				}
			}, function() {
				$(this).removeClass('hover');
				$(this).find('span , a').remove();
			});
			$('#navigator').find('.up').hover(function() {
				var y = window.scrollY;
				var prev = null;
				var e = $(this);
				$.each(paginator, function(k, v) {
					if (v && v.position()  && y > v.position().top) {
						prev = {};
						prev[k] = v;
					}
				});
				if (prev) {
					$.each(prev, function(k, v) {
						e.addClass('hover');
						var a = $('<a href="#' + v.attr("id") + '"></a>');
						a.click(function() {
							$('body').scrollTo(v.position().top, {}, function() {
								a.parent().trigger('mouseleave');
								a.parent().trigger('mouseenter');
							});
							return false;
						});
						e.prepend(a);
						e.prepend('<span>' + k + '</span>');
					});
				}
			}, function() {
				$(this).removeClass('hover');
				$(this).find('span , a').remove();
			});
			$('#navigator').find('.down').hover(function() {
				var y = window.scrollY + 1;
				var next = null;
				var e = $(this);
				$.each(paginator, function(k, v) {
					if (!next && v && v.position() && y < v.position().top && y + window.innerHeight < $(document).height()) {
						next = {};
						next[k] = v;
					}
				});
				if (next) {
					$.each(next, function(k, v) {
						e.addClass('hover');
						var a = $('<a href="#' + v.attr("id") + '"></a>');
						a.click(function() {
							$('body').scrollTo(v.position().top, {}, function() {
								a.parent().trigger('mouseleave');
								a.parent().trigger('mouseenter');
							});
							return false;
						});
						e.prepend(a);
						e.prepend('<span>' + k + '</span>');
					});
				}
			}, function() {
				$(this).removeClass('hover');
				$(this).find('span , a').remove();
			});
			$.fn.scrollTo = function(target, options, callback) {
				if (typeof options == 'function' && arguments.length == 2) {
					callback = options;
					options = target;
				}
				var settings = $.extend({
					scrollTarget : target,
					offsetTop : 50,
					duration : 200,
					easing : 'swing'
				}, options);
				return this.each(function() {
					var scrollPane = $(this);
					var scrollTarget = (typeof settings.scrollTarget == "number") ? settings.scrollTarget : $(settings.scrollTarget);
					var scrollY = (typeof scrollTarget == "number") ? scrollTarget : scrollTarget.offset().top + scrollPane.scrollTop() - parseInt(settings.offsetTop);
					scrollPane.animate({
						scrollTop : scrollY
					}, parseInt(settings.duration), settings.easing, function() {
						if (typeof callback == 'function') {
							callback.call(this);
						}
					});
				});
			}
			// adding naturalWidth and naturalHeight to images
			function img(url) {
				var i = new Image;
				i.src = url;
				return i;
			}
			var props = [ 'Width', 'Height' ], prop;
			while (prop = props.pop()) {
				(function(natural, prop) {
					$.fn[natural] = (natural in new Image()) ? function() {
						return this[0][natural];
					} : function() {
						var node = this[0], img, value;

						if (node.tagName.toLowerCase() === 'img') {
							img = new Image();
							img.src = node.src, value = img[prop];
						}
						return value;
					};
				}('natural' + prop, prop.toLowerCase()));
			}
		},
		setColumnsSize : function(secondTrip) {
			$('.c1').each(function() {
				var s = $(this).width();
				if (secondTrip) {
					// occurs after web font rendering
					s = s - 8;
				}
				if (s > col1) {
					col1 = s;
				}
			});
			$('.c2').animate({
				// 24 = main padding
				marginLeft : col1 + 24,
				marginTop : 0
			}, 'slow', 'swing', function() {
				$('.c2').css({
					visibility : 'visible'
				});
			});
			$('.c3').each(function() {
				var s = $(this).width();
				if (s > col3) {
					col3 = s;
				}
			});
			$('.c4').each(function() {
				var h = $(this).prev('.c3').height();
				$(this).animate({
					// 24 = main padding
					marginLeft : col3 + 24,
					marginTop : 0
				}, 'slow');
			});
		}

	};
</script>

	<div id="loadPanel">
		<p id="lmessage">
			<span class="lloading"></span><span class="content">&nbsp;</span>
		</p>
	</div>
	<div id="navigator">
		<div class="up sp"></div>
		<div class="top sp"></div>
		<div class="down sp"></div>
	</div>
</body>
</html>